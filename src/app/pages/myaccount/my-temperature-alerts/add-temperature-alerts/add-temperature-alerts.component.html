<div class="row clearfix">
    <div class="col-md-11 text-left">
        <h4 *ngIf="isAddService"><b> {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.ADD_TEMPERATURE_ALERT' | translate}} :</b></h4>
        <h4 *ngIf="!isAddService"><b> {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.EDIT_TEMPERATURE_ALERT' | translate}} :</b> </h4>
    </div>

    <div class="col-md-1">
        <button mat-dialog-close="true" style="padding: 3px 8px 2px;margin-left: 13px;
    line-height: 17px;
    min-width: auto;" class="btn btn-sm btn-info">
            <i class="fa fa-times" aria-hidden="true"></i>
        </button>
    </div>
</div>
<div class="col-md-12  mt10 " [formGroup]="createtempfrom">
    <div class="row mt15">
        <div class="col-md-4">
            <div class="form-group">
                <label>
                    {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.SELECT_VEHICLE' | translate}}    
                <span class="required">*</span></label>
                <mat-select class="form-control" [formControl]="bankMultiCtrl" [(ngModel)]="selectedVehicles"
                    placeholder="Select Vehicle" [multiple]="true" #multiSelect>
                    <mat-option>
                        <ngx-mat-select-search [formControl]="bankMultiFilterCtrl" placeholderLabel="Search Vehicle..."
                            noEntriesFoundLabel="'no matching Vehicle found'"></ngx-mat-select-search>
                    </mat-option>

                    <mat-option *ngFor="let bank of filteredBanksMulti | async" [value]="bank.device_link_id">
                        {{bank.vehicle_number}}
                    </mat-option>
                </mat-select>

            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <label>
                    {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.FROM_DATE_TIME' | translate}}
                    <span class="required">*</span></label>
                <mat-form-field class="no-line">
                    <input class="form-control datepicker" matInput [(ngModel)]="StartDateTime"
                        [matDatetimepicker]="stateDatepicker" formControlName="startdate">
                    <mat-datetimepicker-toggle matSuffix [for]="stateDatepicker"></mat-datetimepicker-toggle>
                    <mat-datetimepicker #stateDatepicker type="datetime" openOnFocus="true" timeInterval="1">
                    </mat-datetimepicker>
                    <div
                        *ngIf="createtempfrom.controls['startdate'].errors && createtempfrom.controls['startdate'].touched">
                        <span *ngIf="createtempfrom.controls['startdate'].errors.required" style="color: red;">
                            {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.SELECT_FROM_DATE_TIME' | translate}}
                        </span>
                    </div>
                </mat-form-field>
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <label>
                    {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.TO_DATE_TIME' | translate}}
                    <span class="required">*</span></label>
                <mat-form-field class="no-line">
                    <input class="form-control datepicker" matInput [(ngModel)]="endDate"
                        [matDatetimepicker]="endDatepicker" formControlName="enddate">
                    <mat-datetimepicker-toggle matSuffix [for]="endDatepicker"></mat-datetimepicker-toggle>
                    <mat-datetimepicker #endDatepicker type="datetime" openOnFocus="true" timeInterval="1">
                    </mat-datetimepicker>
                    <!-- #enddocregion toggle -->
                    <div
                        *ngIf="createtempfrom.controls['enddate'].errors && createtempfrom.controls['enddate'].touched">
                        <span *ngIf="createtempfrom.controls['enddate'].errors.required" style="color: red;">
                            {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.SELECT_TO_DATE_TIME' | translate}}
                        </span>
                    </div>
                </mat-form-field>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-4">
            <div class="form-group">
                <label for="exampleInputEmail1">
                    {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.MINIMUM_TEMPERATURE' | translate}}    
                <span class="required">*</span></label>
                <input type="text" [(ngModel)]="minTemp"
                    oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                    formControlName="minitemp" class="form-control" maxlength="2"
                    placeholder="Enter Minimum Temperature">

                <mat-error
                    *ngIf="createtempfrom.controls['minitemp'].errors && createtempfrom.controls['minitemp'].touched">
                    <span *ngIf="createtempfrom.controls['minitemp'].errors.required">
                        {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.ENTER_MINIMUM_TEMPERATURE' | translate}}    
                    .</span>
                </mat-error>
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <label for="exampleInputEmail1">
                    {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.MAXIMUM_TEMPERATURE' | translate}}    
                <span class="required">*</span></label>
                <input type="text" [(ngModel)]="maxTemp"
                    oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                    formControlName="maxtemp" class="form-control" maxlength="2"
                    placeholder="Enter Maximum Temperature">

                <mat-error
                    *ngIf="createtempfrom.controls['maxtemp'].errors && createtempfrom.controls['maxtemp'].touched">
                    <span *ngIf="createtempfrom.controls['maxtemp'].errors.required">
                        {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.ENTER_MAXIMUM_TEMPERATURE' | translate}}
                    </span>
                </mat-error>
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <label for="exampleInputEmail1">
                    {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.TRIP_NAME' | translate}}
                </label>
                <input type="text" [(ngModel)]="tripName" formControlName="tripName" class="form-control" maxlength="20"
                    placeholder="Enter Trip Name">
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <label for="exampleInputEmail1">
                    {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.DRIVER_NAME' | translate}}
                </label>
                <input type="text" [(ngModel)]="driveName" formControlName="driverName" class="form-control"
                    maxlength="20" placeholder="Enter Driver Name">
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <label for="exampleInputEmail1">
                    {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.DRIVER_NUMBER' | translate}}
                </label>
                <input type="text" [(ngModel)]="driveNumber" formControlName="driverNumber"
                    oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                    class="form-control" maxlength="10" placeholder="Enter Driver Number">
            </div>
        </div>

        <div class="col-md-4" [formGroup]="emailChipForm">
            <div class="form-group">
                <label for="exampleInputEmail1">
                    {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.EMAIL_ID' | translate}}
                </label>
                <!-- <input type="text" [(ngModel)]="email" formControlName="email" class="form-control" maxlength="30"
                    placeholder="Enter Email Id"> -->
                <tag-input [(ngModel)]='email_ids' placeholder="Enter New Email" secondaryPlaceholder="Enter Email ID"
                    [maxItems]='4' formControlName="chipEmail">
                </tag-input>


            </div>
        </div>

        <div class="col-md-4" [formGroup]="chipForm">
            <div class="form-group">
                <label>
                    {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.MOBILE_NUMBER' | translate}}
                </label>
                <!-- <input type="text" [(ngModel)]="mobileNumber" formControlName="mobile_num"
                    oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                    class="form-control" maxlength="10" placeholder="Enter Mobile Number"> -->
                <tag-input [(ngModel)]='items' placeholder="Enter new mobile number"
                    secondaryPlaceholder="Enter Mobile Number" formControlName="mobile_num" [maxItems]='4'>
                </tag-input>

            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <label>
                    {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.SELECT_STATUS' | translate}}    
                <span class="required">*</span></label>
                <mat-select class="form-control" formControlName="tempstatus" placeholder="Select Status"
                    [(ngModel)]="status">
                    <mat-option value="Active">Active</mat-option>
                    <mat-option value="Inactive">Inactive</mat-option>
                </mat-select>
                <mat-error
                    *ngIf="createtempfrom.controls['tempstatus'].errors && createtempfrom.controls['tempstatus'].touched">
                    <span *ngIf="createtempfrom.controls['tempstatus'].errors.required" style="color: red;">
                        {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.PLEASE_SELECT_STATUS' | translate}}
                    </span>
                </mat-error>
            </div>
        </div>

    </div>

</div>

<div class="col-md-12 text-center mt30">
    <div class="form-group">
        <button type="submit" *ngIf="this.isAddService" class="btn btn-primary mrleftright" (click)="submit()"
            [disabled]="createtempfrom.invalid">
            {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.SUBMIT' | translate}}
        </button> &nbsp; &nbsp;
        <button type="submit" *ngIf="!this.isAddService" class="btn btn-primary mrleftright" (click)="submit()"
            [Enable]="createtempfrom.invalid">
            {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.UPDATE' | translate}}
        </button> &nbsp; &nbsp;
        <button type="submit" mat-dialog-close="false" class="btn btn-warning mrleftright">
            {{'DASH_BOARD.ADD_TEMPERATUR_ALERT_COMPONENT.CANCEL' | translate}}
        </button>
    </div>
</div>