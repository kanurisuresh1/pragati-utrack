<div class="col-md-12">
    <div class="clearfix">
        <h4 *ngIf="isCreatePassenger" style="color: blue;">Create Passenger</h4>
        <h4 *ngIf="!isCreatePassenger" style="color: blue;">Edit Passenger</h4>
        <hr>
    </div>
</div>

<section class="content">
    <div class="container-fluid">
        <div class="card-body">
            <div class="col-md-12" [formGroup]="busPassengerForm">
                <div class="row">

                    <!-- <div class="col-md-6">
                        <div class="form-group">
                            <label>Bus Route
                                <span class="required">*</span></label>
                            <mat-select class="form-control" [(ngModel)]="bus_route_id" formControlName="bus_route_id"
                                placeholder="Select Bus Route">
                                <mat-option *ngFor='let row of bus_route_list_data' [value]="row.bus_route_id"
                                    (click)="fromChangeGeofence(row)">
                                    {{row.geofence_name}}</mat-option>
                            </mat-select>

                        </div>
                    </div> -->


                    <div class="col-md-6">
                        <div class="form-group">
                            <label>
                                Bus Organisation
                                <span class="required">*</span></label>
                            <mat-select class="form-control" [(ngModel)]="org_name"
                                formControlName="bus_organisation_id" placeholder="Select Organisation">
                                <mat-option *ngFor='let row of organisation_list' [value]="row.bus_organisation_id"
                                    (click)="changeOrg(row)">
                                    {{row.org_name}}</mat-option>
                            </mat-select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Bus Organisation Branch
                                <span class="required">*</span></label>
                            <mat-select class="form-control" [(ngModel)]="branch_org_name"
                                formControlName="bus_organisation_branch_id" placeholder="Select Organisation Branch">
                                <mat-option *ngFor='let row of branch_organisation_list'
                                    [value]="row.bus_organisation_branch_id" (click)="changeBranchOrg(row)">
                                    {{row.branch_name}}</mat-option>
                            </mat-select>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>
                                Passenger Name
                                <span class="required">*</span></label>
                            <input type="text" style="text-transform: capitalize;" [(ngModel)]="passenger_name"
                                formControlName="passenger_name" onkeypress="return /[a-z]/i.test(event.key)"
                                maxlength="30" class="form-control" placeholder="Enter Passenger Name">
                            <mat-error
                                *ngIf="busPassengerForm.controls['passenger_name'].errors && busPassengerForm.controls['passenger_name'].touched">
                                <span *ngIf="busPassengerForm.controls['passenger_name'].errors.required">
                                    Enter Passenger Name
                                </span>
                                <span *ngIf="busPassengerForm.controls['passenger_name'].errors.minlength">
                                    Enter Minimum 3 Letters
                                </span>
                            </mat-error>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>
                                User Name
                                <span class="required">*</span></label>
                            <input type="text" style="text-transform: capitalize;" [(ngModel)]="username"
                                formControlName="username" onkeypress="return /[a-z]/i.test(event.key)" maxlength="30"
                                class="form-control" placeholder="Enter User Name">
                            <mat-error
                                *ngIf="busPassengerForm.controls['username'].errors && busPassengerForm.controls['username'].touched">
                                <span *ngIf="busPassengerForm.controls['username'].errors.required">
                                    Enter User Name
                                </span>
                                <span *ngIf="busPassengerForm.controls['username'].errors.minlength">
                                    Enter Minimum 3 Letters
                                </span>
                            </mat-error>
                        </div>
                    </div>


                    <div class="col-md-6">
                        <div class="form-group">
                            <label>
                                Email
                                <span class="required">*</span></label>
                            <input type="text" [(ngModel)]="email" formControlName="email" maxlength="30"
                                class="form-control" placeholder="Enter Email">
                            <mat-error
                                *ngIf="busPassengerForm.controls['email'].errors && busPassengerForm.controls['email'].touched">
                                <span *ngIf="busPassengerForm.controls['email'].errors.required">
                                    Enter Email
                                </span>

                            </mat-error>
                        </div>
                    </div>


                    <div class="col-md-6">
                        <div class="form-group">
                            <label>
                                Mobile Number
                                <span class="required">*</span></label>
                            <input type="text" style="text-transform: capitalize;" [(ngModel)]="mobile"
                                formControlName="mobile"
                                oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"
                                maxlength="10" class="form-control" placeholder="Enter Number Name">
                            <mat-error
                                *ngIf="busPassengerForm.controls['mobile'].errors && busPassengerForm.controls['mobile'].touched">
                                <span *ngIf="busPassengerForm.controls['mobile'].errors.required">
                                    Enter Mobile Number
                                </span>
                                <span *ngIf="busPassengerForm.controls['mobile'].errors.minlength">
                                    Enter Minimum 10 Letters
                                </span>
                            </mat-error>
                        </div>
                    </div>

                </div>

                <div class="col-md-12 text-center">
                    <div class="form-group">
                        <button class="btn btn-warning btn-sm mrl5" mat-dialog-close="false">Cancel</button>
                        <button *ngIf="isCreatePassenger" class="btn btn-primary btn-sm mrl5"
                            (click)="createRoute()">Create
                            Passenger</button>
                        <button *ngIf="!isCreatePassenger" (click)="createRoute()"
                            class="btn btn-primary btn-sm mrl5">Update
                            Passenger</button>
                    </div>

                </div>
            </div>
        </div>

    </div>
</section>