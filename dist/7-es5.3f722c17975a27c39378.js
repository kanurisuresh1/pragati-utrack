function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,r=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){r=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{ZPG6:function(t,e,a){"use strict";a.r(e);var n=a("ofXK"),i=a("tyNb"),o=a("M9IT"),r=a("Dh3D"),c=a("+0xr"),l=a("Iab2"),s=a("6K47"),b=a("Z1p1"),u=a("0Mmh"),m=a("bdtZ"),d=a("NdpM"),p=a("3s9G"),g=a("fXoL"),f=a("0IaG"),h=a("qFsG"),_=a("bTqV"),v=a("aceb"),C=["content"];function y(t,e){1&t&&(g.Zb(0,"th",37),g.Rc(1," ID "),g.Yb())}function D(t,e){if(1&t&&(g.Zb(0,"td",38),g.Rc(1),g.Yb()),2&t){var a=e.index;g.Eb(1),g.Tc(" ",a+1," ")}}function T(t,e){1&t&&(g.Zb(0,"th",39),g.Rc(1," Organisation Name "),g.Yb())}function P(t,e){if(1&t&&(g.Zb(0,"td",38),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.org_name)}}function Y(t,e){1&t&&(g.Zb(0,"th",39),g.Rc(1," Branch Name "),g.Yb())}function R(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",40),g.Zb(1,"a",41),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().branch_details(t)})),g.Rc(2),g.Yb(),g.Yb()}if(2&t){var n=e.$implicit;g.Eb(2),g.Tc(" ",n.branch_name,"")}}function k(t,e){1&t&&(g.Zb(0,"th",39),g.Rc(1," Branch Location "),g.Yb())}function Z(t,e){if(1&t&&(g.Zb(0,"td",38),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.branch_location)}}function E(t,e){1&t&&(g.Zb(0,"th",39),g.Rc(1," Google Location "),g.Yb())}function x(t,e){if(1&t&&(g.Zb(0,"td",40),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.google_location," ")}}function w(t,e){1&t&&(g.Zb(0,"th",39),g.Rc(1," Latitude"),g.Yb())}function M(t,e){if(1&t&&(g.Zb(0,"td",40),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.latitude," ")}}function S(t,e){1&t&&(g.Zb(0,"th",39),g.Rc(1," Longitude "),g.Yb())}function O(t,e){if(1&t&&(g.Zb(0,"td",38),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.longitude," ")}}function I(t,e){1&t&&(g.Zb(0,"th",39),g.Rc(1," Added Date & Time"),g.Yb())}function N(t,e){if(1&t&&(g.Zb(0,"td",38),g.Rc(1),g.qc(2,"date"),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",g.sc(2,1,a.added_date_time,"dd MMM yyyy hh:mm:ss a")," ")}}function A(t,e){1&t&&(g.Zb(0,"th",39),g.Rc(1," Updated Date & Time "),g.Yb())}function F(t,e){if(1&t&&(g.Zb(0,"td",38),g.Rc(1),g.qc(2,"date"),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(g.sc(2,1,a.updated_date_time,"dd MMM yyyy hh:mm:ss a"))}}function U(t,e){1&t&&(g.Zb(0,"th",39),g.Rc(1," Status "),g.Yb())}function B(t,e){if(1&t&&(g.Zb(0,"td",38),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.status)}}function L(t,e){1&t&&(g.Zb(0,"th",39),g.Rc(1," Edit "),g.Yb())}function z(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",38),g.Zb(1,"a"),g.Zb(2,"i",42),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().editBranch(t)})),g.Yb(),g.Yb(),g.Yb()}}function W(t,e){1&t&&g.Ub(0,"tr",43)}function V(t,e){1&t&&g.Ub(0,"tr",44)}function $(t,e){1&t&&(g.Zb(0,"div",45),g.Zb(1,"p",46),g.Rc(2,"Data Not Found"),g.Yb(),g.Yb())}var X,H=function(){return{icon:"refresh-outline",pack:"eva"}},G=((X=function(){function t(e,a,n,i,o){_classCallCheck(this,t),this.headerService=e,this.uTrackService=a,this.dialog=n,this.routes=i,this.activatedRoute=o,this.ELEMENT_DATA=[],this.displayedColumns=["id","org_name","branch_name","branch_location","google_location","latitude","longitude","added_date_time","updated_date_time","status","edit"],this.dataSource=new c.k(this.ELEMENT_DATA),this.TableDataNotshow=!1,this.filterValue=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.uTrackService.isUserValid(),this.headerService.updateHeaderTitle("Branches"),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.bus_organisation_branch_list()}},{key:"bus_organisation_branch_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_organisation_branch_list(e).subscribe((function(e){e.status?(t.ELEMENT_DATA=[],null!=e.data&&null!=e.data&&e.data.length>0?(t.ELEMENT_DATA=e.data,t.TableDataNotshow=!1,t.dataSource.data=t.ELEMENT_DATA):t.TableDataNotshow=!0):t.TableDataNotshow=!0}))}},{key:"applyFilter",value:function(t){"Enter"==t.key&&(this.filterValue=t.target.value,this.filterValue=this.filterValue.trim(),this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA)}},{key:"refresh",value:function(){this.bus_organisation_branch_list()}},{key:"search",value:function(){this.filterValue=this.filterValue.trim(),this.filterValue=document.getElementById("search_element").value,this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA}},{key:"createBranch",value:function(){localStorage.setItem("BUS_ORGANISATION_BRACH_ID",""),this.routes.navigate(["web/bus_management/branches/create_branch"])}},{key:"editBranch",value:function(t){this.routes.navigate(["web/bus_management/branches/edit_branch",t.bus_organisation_branch_id])}},{key:"branch_details",value:function(t){this.routes.navigate(["web/bus_management/branches/branch_details",t.bus_organisation_branch_id])}},{key:"downloadPDF",value:function(){var t,e="Report generated on "+b.a.getDisplayTodayDateTime(),a="UTrack Branch Report\n".concat(e),n=[],i=1,o=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(o.s();!(t=o.n()).done;){var r=t.value,c=[];c.push(i.toString()),c.push(r.org_name),c.push(r.branch_name),c.push(r.branch_location),c.push(r.google_location),c.push(r.latitude),c.push(r.longitude),c.push(b.a.getDisplayDateTime(r.added_date_time)),c.push(b.a.getDisplayDateTime(r.updated_date_time)),c.push(r.status),n.push(c),i++}}catch(l){o.e(l)}finally{o.f()}p.a.downloadPdf(a,["ID","Organisation Name","Branch Name","Branch Location","Google Location","Latitude","Longitude","Added Date & time","Updated Date & Time","Status"],n,"BranchList")}},{key:"Exportexcle",value:function(){var t=new s.Workbook,e=t.addWorksheet("Utrack"),a=t.addImage({base64:m.a.uTrackLogoWithBG,extension:"png"}),n=t.addImage({base64:m.a.ramkiLogo,extension:"png"});e.mergeCells("A1:B3"),e.addImage(a,"A1:B3"),e.mergeCells("G1:G3"),e.addImage(n,"G1:G3"),e.mergeCells("C1","F2");var i=e.getCell("C1");i.value="UTrack Branch Report",i.font={name:"Calibri",size:18,underline:"single",bold:!0,color:{argb:"0085A3"}},i.alignment={vertical:"middle",horizontal:"center"},e.mergeCells("C3","F3");var o=e.getCell("C3");o.value="Report generated on "+b.a.getDisplayTodayDateTime(),o.font={name:"Calibri",size:14,underline:"single",bold:!0,color:{argb:"0085A3"}},o.alignment={vertical:"middle",horizontal:"center"},e.addRow([]),e.addRow(["ID","Organisation Name","Branch Name","Branch Location","Google Location","Latitude","Longitude","Added Date & time","Updated Date & Time","Status"]).eachCell((function(t,e){t.fill={type:"pattern",pattern:"solid",fgColor:{argb:"4167B8"},bgColor:{argb:""}},t.font={bold:!0,color:{argb:"FFFFFF"},size:14},t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}));var r,c=1,u=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(u.s();!(r=u.n()).done;){var d=r.value,p=[];p.push(c.toString()),p.push(d.org_name),p.push(d.branch_name),p.push(d.branch_location),p.push(d.google_location),p.push(d.latitude),p.push(d.longitude),p.push(b.a.getDisplayDateTime(d.added_date_time)),p.push(b.a.getDisplayDateTime(d.updated_date_time)),p.push(d.status),e.addRow(p),c++}}catch(g){u.e(g)}finally{u.f()}e.getColumn(1).width=5,e.getColumn(2).width=25,e.getColumn(3).width=40,e.getColumn(4).width=30,e.getColumn(5).width=30,e.getColumn(6).width=15,e.getColumn(7).width=15,e.getColumn(8).width=30,e.getColumn(9).width=30,e.getColumn(10).width=15,e.addRow([]),t.xlsx.writeBuffer().then((function(t){var e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});l.saveAs(e,"BranchList.xlsx")}))}}]),t}()).\u0275fac=function(t){return new(t||X)(g.Tb(u.a),g.Tb(d.a),g.Tb(f.b),g.Tb(i.c),g.Tb(i.a))},X.\u0275cmp=g.Nb({type:X,selectors:[["ngx-branches"]],viewQuery:function(t,e){var a;1&t&&(g.Nc(o.a,!0),g.Nc(r.a,!0),g.Yc(C,!0)),2&t&&(g.Dc(a=g.mc())&&(e.paginator=a.first),g.Dc(a=g.mc())&&(e.sort=a.first),g.Dc(a=g.mc())&&(e.content=a.first))},decls:60,vars:7,consts:[[1,"row","clearfix"],[1,"col-md-8","text-left"],["type","search","matInput","","id","search_element","placeholder","Search Branch",1,"form-control","search-field","pull-left",3,"keyup"],[1,"btn","btn-primary","pull-left","ml-20","mr15","btn-sm",3,"click"],[1,"fa","fa-search"],["mat-button","",1,"btn","btn-danger","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-excel"],["mat-button","",1,"btn","btn-primary","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-pdf"],["nbTooltip","Refresh","nbTooltipStatus","success",1,"btn","btn-success","pull-left","mr1","btn-sm",3,"nbTooltipIcon","click"],[1,"fa","fa-sync"],[1,"col-md-4","ml-auto","text-right"],[1,"form-group"],[1,"btn","btn-warning","btn-sm",3,"click"],["id","content",1,"example-container","mat-elevation-z8"],["content",""],[1,"table-responsive",2,"height","500px","overflow","auto !important"],["mat-table","","matSort","",1,"table-bordered","table",3,"dataSource"],["matColumnDef","id"],["class","bg-primary !important ml15","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","org_name"],["class","bg-primary !important","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","branch_name"],["class","cellSpace","mat-cell","",4,"matCellDef"],["matColumnDef","branch_location"],["matColumnDef","google_location"],["mat-cell","","class","cellSpace",4,"matCellDef"],["matColumnDef","latitude"],["matColumnDef","longitude"],["matColumnDef","added_date_time"],["matColumnDef","updated_date_time"],["matColumnDef","status"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","col-md-12","style","margin-top: 180px;",4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important","ml15"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important"],["mat-cell","",1,"cellSpace"],[2,"cursor","pointer","text-decoration","underline","color","blue",3,"click"],[1,"fa","fa-edit","text-blue",2,"cursor","pointer","color","blue",3,"click"],["mat-header-row",""],["mat-row",""],[1,"col-md-12",2,"margin-top","180px"],[1,"datanotfound"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Zb(2,"label"),g.Zb(3,"input",2),g.lc("keyup",(function(t){return e.applyFilter(t)})),g.Yb(),g.Yb(),g.Zb(4,"button",3),g.lc("click",(function(){return e.search()})),g.Ub(5,"i",4),g.Yb(),g.Zb(6,"button",5),g.lc("click",(function(){return e.Exportexcle()})),g.Ub(7,"i",6),g.Rc(8," \xa0 Export to Excel "),g.Yb(),g.Zb(9,"button",7),g.lc("click",(function(){return e.downloadPDF()})),g.Ub(10,"i",8),g.Rc(11," \xa0 Export to PDF "),g.Yb(),g.Zb(12,"button",9),g.lc("click",(function(){return e.refresh()})),g.Ub(13,"i",10),g.Yb(),g.Yb(),g.Zb(14,"div",11),g.Zb(15,"div",12),g.Zb(16,"button",13),g.lc("click",(function(){return e.createBranch()})),g.Zb(17,"b"),g.Rc(18,"+ Create Branch"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(19,"div"),g.Zb(20,"div",14,15),g.Zb(22,"div",16),g.Zb(23,"table",17),g.Xb(24,18),g.Pc(25,y,2,0,"th",19),g.Pc(26,D,2,1,"td",20),g.Wb(),g.Xb(27,21),g.Pc(28,T,2,0,"th",22),g.Pc(29,P,2,1,"td",20),g.Wb(),g.Xb(30,23),g.Pc(31,Y,2,0,"th",22),g.Pc(32,R,3,1,"td",24),g.Wb(),g.Xb(33,25),g.Pc(34,k,2,0,"th",22),g.Pc(35,Z,2,1,"td",20),g.Wb(),g.Xb(36,26),g.Pc(37,E,2,0,"th",22),g.Pc(38,x,2,1,"td",27),g.Wb(),g.Xb(39,28),g.Pc(40,w,2,0,"th",22),g.Pc(41,M,2,1,"td",27),g.Wb(),g.Xb(42,29),g.Pc(43,S,2,0,"th",22),g.Pc(44,O,2,1,"td",20),g.Wb(),g.Xb(45,30),g.Pc(46,I,2,0,"th",22),g.Pc(47,N,3,4,"td",20),g.Wb(),g.Xb(48,31),g.Pc(49,A,2,0,"th",22),g.Pc(50,F,3,4,"td",20),g.Wb(),g.Xb(51,32),g.Pc(52,U,2,0,"th",22),g.Pc(53,B,2,1,"td",20),g.Wb(),g.Xb(54,33),g.Pc(55,L,2,0,"th",22),g.Pc(56,z,3,0,"td",20),g.Wb(),g.Pc(57,W,1,0,"tr",34),g.Pc(58,V,1,0,"tr",35),g.Yb(),g.Pc(59,$,3,0,"div",36),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(12),g.vc("nbTooltipIcon",g.zc(6,H)),g.Eb(11),g.vc("dataSource",e.dataSource),g.Eb(34),g.vc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),g.Eb(1),g.vc("matRowDefColumns",e.displayedColumns),g.Eb(1),g.vc("ngIf",e.TableDataNotshow))},directives:[h.b,_.a,v.db,c.j,r.a,c.c,c.e,c.b,c.g,c.i,n.p,c.d,r.b,c.a,c.f,c.h],pipes:[n.e],styles:[".mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff!important;vertical-align:middle!important;padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{overflow-x:scroll!important}.mr15[_ngcontent-%COMP%]{margin-right:15px!important}.mr12[_ngcontent-%COMP%]{margin-left:-49px;padding:1px 1px 0}.mt50[_ngcontent-%COMP%]{margin-top:76px}.my-custom-scrollbar[_ngcontent-%COMP%]{overflow:auto}.table-wrapper-scroll-y[_ngcontent-%COMP%]{display:block}.mat-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}.mat-input-element[_ngcontent-%COMP%]{line-height:auto;padding:6px;height:auto;font-size:12px;border:1px solid #0779e4;background:#fff}.ml-20[_ngcontent-%COMP%]{margin-left:-20px!important}.btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}tr[_ngcontent-%COMP%]:hover{background-color:#b3f0ff}.img-circle[_ngcontent-%COMP%]{border-radius:50%!important;overflow:hidden;width:65px;height:65px;border:2px solid #1654c0;margin:0 auto 20px}.datanotfound[_ngcontent-%COMP%]{font-size:25px;text-align:center;margin-top:180px;margin-bottom:180px;font-weight:700}"]}),X),q=["content"];function j(t,e){1&t&&(g.Zb(0,"th",36),g.Rc(1," ID "),g.Yb())}function J(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.index;g.Eb(1),g.Tc(" ",a+1," ")}}function Q(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Geofence Name "),g.Yb())}function K(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",39),g.Zb(1,"a",40),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().edit(t)})),g.Rc(2),g.Yb(),g.Yb()}if(2&t){var n=e.$implicit;g.Eb(2),g.Tc(" ",n.geofence_name,"")}}function tt(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Latitide "),g.Yb())}function et(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.latitude," ")}}function at(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Longitude"),g.Yb())}function nt(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.longitude," ")}}function it(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Location "),g.Yb())}function ot(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.location_name," ")}}function rt(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Radius"),g.Yb())}function ct(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.radius," ")}}function lt(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Added Date & Time"),g.Yb())}function st(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.qc(2,"date"),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",g.sc(2,1,a.added_date,"dd MMM yyyy hh:mm:ss a")," ")}}function bt(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Modified Date & Time "),g.Yb())}function ut(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.qc(2,"date"),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc("",g.sc(2,1,a.modified_date,"dd MMM yyyy hh:mm:ss a")," ")}}function mt(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Status "),g.Yb())}function dt(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.status)}}function pt(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Edit "),g.Yb())}function gt(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",37),g.Zb(1,"a"),g.Zb(2,"i",41),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().edit(t)})),g.Yb(),g.Yb(),g.Yb()}}function ft(t,e){1&t&&g.Ub(0,"tr",42)}function ht(t,e){1&t&&g.Ub(0,"tr",43)}function _t(t,e){1&t&&(g.Zb(0,"div",44),g.Zb(1,"p",45),g.Rc(2,"Data Not Found"),g.Yb(),g.Yb())}var vt,Ct,yt,Dt=function(){return{icon:"refresh-outline",pack:"eva"}},Tt=((yt=function(){function t(e,a,n){_classCallCheck(this,t),this.headerService=e,this.routes=a,this.uTrackService=n,this.ELEMENT_DATA=[],this.displayedColumns=["id","geofence_name","latitude","longitude","location_name","radius","added_date","modified_date","status","edit"],this.dataSource=new c.k(this.ELEMENT_DATA),this.TableDataNotshow=!1,this.organisation_list=[],this.branch_organisation_list=[],this.filterValue=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.updateHeaderTitle("Geofences"),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.bus_geofence_list()}},{key:"bus_geofence_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_geofence_list(e).subscribe((function(e){e.status&&null!=e.data&&null!=e.data&&e.data.length>0?(t.ELEMENT_DATA=e.data,t.dataSource.data=t.ELEMENT_DATA,t.TableDataNotshow=!1):t.TableDataNotshow=!0}))}},{key:"bus_organisation_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_organisation_list(e).subscribe((function(e){e.status&&null!=e.data&&null!=e.data&&e.data.length>0&&(t.organisation_list=e.data,t.org_name=t.organisation_list[0].bus_organisation_id)}))}},{key:"bus_organisation_branch_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_organisation_branch_list(e).subscribe((function(e){e.status&&null!=e.data&&null!=e.data&&e.data.length>0&&(t.branch_organisation_list=e.data,t.branch_org_name=t.branch_organisation_list[0].bus_organisation_branch_id)}))}},{key:"changeBranchOrg",value:function(t){}},{key:"changeOrg",value:function(t){}},{key:"applyFilter",value:function(t){"Enter"==t.key&&(this.filterValue=t.target.value,this.filterValue=this.filterValue.trim(),this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA)}},{key:"search",value:function(){this.filterValue=this.filterValue.trim(),this.filterValue=document.getElementById("search_element").value,this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA}},{key:"refresh",value:function(){this.bus_geofence_list()}},{key:"createGeofence",value:function(){this.routes.navigate(["web/bus_management/geofence/create_geofence"])}},{key:"edit",value:function(t){this.routes.navigate(["web/bus_management/geofence/edit_geofence",t.geofence_id])}},{key:"downloadPDF",value:function(){var t,e="Report generated on "+b.a.getDisplayTodayDateTime(),a="UTrack Bus Gefonce Report\n".concat(e),n=[],i=1,o=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(o.s();!(t=o.n()).done;){var r=t.value,c=[];c.push(i.toString()),c.push(r.geofence_name),c.push(r.latitude),c.push(r.longitude),c.push(r.location_name),c.push(r.radius),c.push(b.a.getDisplayDateTime(r.added_date)),c.push(b.a.getDisplayDateTime(r.modified_date)),c.push(r.status),n.push(c),i++}}catch(l){o.e(l)}finally{o.f()}p.a.downloadPdf(a,["ID","Geofence Name","Latitude","Longitude","Location","Radius","Added Date & Time","Modified Date & Time","Status"],n,"GeofenceList")}},{key:"Exportexcle",value:function(){var t=new s.Workbook,e=t.addWorksheet("Utrack"),a=t.addImage({base64:m.a.uTrackLogoWithBG,extension:"png"}),n=t.addImage({base64:m.a.ramkiLogo,extension:"png"});e.mergeCells("A1:B3"),e.addImage(a,"A1:B3"),e.mergeCells("G1:G3"),e.addImage(n,"G1:G3"),e.mergeCells("C1","F2");var i=e.getCell("C1");i.value="UTrack Bus Geofence Report",i.font={name:"Calibri",size:18,underline:"single",bold:!0,color:{argb:"0085A3"}},i.alignment={vertical:"middle",horizontal:"center"},e.mergeCells("C3","F3");var o=e.getCell("C3");o.value="Report generated on "+b.a.getDisplayTodayDateTime(),o.font={name:"Calibri",size:14,underline:"single",bold:!0,color:{argb:"0085A3"}},o.alignment={vertical:"middle",horizontal:"center"},e.addRow([]),e.addRow(["ID","Geofence Name","Latitude","Longitude","Location","Radius","Added Date & Time","Modified Date & Time","Status"]).eachCell((function(t,e){t.fill={type:"pattern",pattern:"solid",fgColor:{argb:"4167B8"},bgColor:{argb:""}},t.font={bold:!0,color:{argb:"FFFFFF"},size:14},t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}));var r,c=1,u=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(u.s();!(r=u.n()).done;){var d=r.value,p=[];p.push(c.toString()),p.push(d.geofence_name),p.push(d.latitude),p.push(d.longitude),p.push(d.location_name),p.push(d.radius),p.push(b.a.getDisplayDateTime(d.added_date)),p.push(b.a.getDisplayDateTime(d.modified_date)),p.push(d.status),e.addRow(p),c++}}catch(g){u.e(g)}finally{u.f()}e.getColumn(1).width=5,e.getColumn(2).width=35,e.getColumn(3).width=15,e.getColumn(4).width=15,e.getColumn(5).width=35,e.getColumn(6).width=8,e.getColumn(7).width=25,e.getColumn(8).width=25,e.getColumn(9).width=12,e.addRow([]),t.xlsx.writeBuffer().then((function(t){var e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});l.saveAs(e,"GefonceList.xlsx")}))}}]),t}()).\u0275fac=function(t){return new(t||yt)(g.Tb(u.a),g.Tb(i.c),g.Tb(d.a))},yt.\u0275cmp=g.Nb({type:yt,selectors:[["ngx-bus-geofences"]],viewQuery:function(t,e){var a;1&t&&(g.Nc(o.a,!0),g.Nc(r.a,!0),g.Yc(q,!0)),2&t&&(g.Dc(a=g.mc())&&(e.paginator=a.first),g.Dc(a=g.mc())&&(e.sort=a.first),g.Dc(a=g.mc())&&(e.content=a.first))},decls:57,vars:7,consts:[[1,"row","clearfix"],[1,"col-md-8","text-left"],["type","search","matInput","","id","search_element","placeholder","Search Geofence",1,"form-control","search-field","pull-left",3,"keyup"],[1,"btn","btn-primary","pull-left","ml-20","mr15","btn-sm",3,"click"],[1,"fa","fa-search"],["mat-button","",1,"btn","btn-danger","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-excel"],["mat-button","",1,"btn","btn-primary","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-pdf"],["nbTooltip","Refresh","nbTooltipStatus","success",1,"btn","btn-success","pull-left","mr1","btn-sm",3,"nbTooltipIcon","click"],[1,"fa","fa-sync"],[1,"col-md-4","ml-auto","text-right"],[1,"form-group"],[1,"btn","btn-warning","btn-sm",3,"click"],["id","content",1,"example-container","mat-elevation-z8"],["content",""],[1,"table-responsive",2,"height","500px","overflow","auto !important"],["mat-table","","matSort","",1,"table-bordered","table",3,"dataSource"],["matColumnDef","id"],["class","bg-primary !important ml15","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","geofence_name"],["class","bg-primary !important","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","cellSpace","mat-cell","",4,"matCellDef"],["matColumnDef","latitude"],["mat-cell","","class","cellSpace",4,"matCellDef"],["matColumnDef","longitude"],["matColumnDef","location_name"],["matColumnDef","radius"],["matColumnDef","added_date"],["matColumnDef","modified_date"],["matColumnDef","status"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","col-md-12","style","margin-top: 180px;",4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important","ml15"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important"],["mat-cell","",1,"cellSpace"],[2,"cursor","pointer","text-decoration","underline","color","blue",3,"click"],[1,"fa","fa-edit","text-blue",2,"cursor","pointer","color","blue",3,"click"],["mat-header-row",""],["mat-row",""],[1,"col-md-12",2,"margin-top","180px"],[1,"datanotfound"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Zb(2,"label"),g.Zb(3,"input",2),g.lc("keyup",(function(t){return e.applyFilter(t)})),g.Yb(),g.Yb(),g.Zb(4,"button",3),g.lc("click",(function(){return e.search()})),g.Ub(5,"i",4),g.Yb(),g.Zb(6,"button",5),g.lc("click",(function(){return e.Exportexcle()})),g.Ub(7,"i",6),g.Rc(8," \xa0 Export to Excel "),g.Yb(),g.Zb(9,"button",7),g.lc("click",(function(){return e.downloadPDF()})),g.Ub(10,"i",8),g.Rc(11," \xa0 Export to PDF "),g.Yb(),g.Zb(12,"button",9),g.lc("click",(function(){return e.refresh()})),g.Ub(13,"i",10),g.Yb(),g.Yb(),g.Zb(14,"div",11),g.Zb(15,"div",12),g.Zb(16,"button",13),g.lc("click",(function(){return e.createGeofence()})),g.Zb(17,"b"),g.Rc(18,"+ Create Geofence"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(19,"div"),g.Zb(20,"div",14,15),g.Zb(22,"div",16),g.Zb(23,"table",17),g.Xb(24,18),g.Pc(25,j,2,0,"th",19),g.Pc(26,J,2,1,"td",20),g.Wb(),g.Xb(27,21),g.Pc(28,Q,2,0,"th",22),g.Pc(29,K,3,1,"td",23),g.Wb(),g.Xb(30,24),g.Pc(31,tt,2,0,"th",22),g.Pc(32,et,2,1,"td",25),g.Wb(),g.Xb(33,26),g.Pc(34,at,2,0,"th",22),g.Pc(35,nt,2,1,"td",25),g.Wb(),g.Xb(36,27),g.Pc(37,it,2,0,"th",22),g.Pc(38,ot,2,1,"td",20),g.Wb(),g.Xb(39,28),g.Pc(40,rt,2,0,"th",22),g.Pc(41,ct,2,1,"td",20),g.Wb(),g.Xb(42,29),g.Pc(43,lt,2,0,"th",22),g.Pc(44,st,3,4,"td",20),g.Wb(),g.Xb(45,30),g.Pc(46,bt,2,0,"th",22),g.Pc(47,ut,3,4,"td",20),g.Wb(),g.Xb(48,31),g.Pc(49,mt,2,0,"th",22),g.Pc(50,dt,2,1,"td",20),g.Wb(),g.Xb(51,32),g.Pc(52,pt,2,0,"th",22),g.Pc(53,gt,3,0,"td",20),g.Wb(),g.Pc(54,ft,1,0,"tr",33),g.Pc(55,ht,1,0,"tr",34),g.Yb(),g.Pc(56,_t,3,0,"div",35),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(12),g.vc("nbTooltipIcon",g.zc(6,Dt)),g.Eb(11),g.vc("dataSource",e.dataSource),g.Eb(31),g.vc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),g.Eb(1),g.vc("matRowDefColumns",e.displayedColumns),g.Eb(1),g.vc("ngIf",e.TableDataNotshow))},directives:[h.b,_.a,v.db,c.j,r.a,c.c,c.e,c.b,c.g,c.i,n.p,c.d,r.b,c.a,c.f,c.h],pipes:[n.e],styles:[".auto-width[_ngcontent-%COMP%]{margin:0;padding:0 0 0 16px;float:left}label[_ngcontent-%COMP%]{font-size:13px;font-weight:700;margin-bottom:6px}.mt20[_ngcontent-%COMP%]{margin-top:20px}.mt10n[_ngcontent-%COMP%]{margin-top:-10px}.mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff!important;vertical-align:middle!important;padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{overflow-x:scroll!important}.mr15[_ngcontent-%COMP%]{margin-right:15px!important}.mr12[_ngcontent-%COMP%]{margin-left:-49px;padding:1px 1px 0}.mt50[_ngcontent-%COMP%]{margin-top:76px}.my-custom-scrollbar[_ngcontent-%COMP%]{overflow:auto}.table-wrapper-scroll-y[_ngcontent-%COMP%]{display:block}.mat-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}.mat-input-element[_ngcontent-%COMP%]{line-height:auto;padding:6px;height:auto;font-size:12px;border:1px solid #0779e4;background:#fff}.ml-20[_ngcontent-%COMP%]{margin-left:-20px!important}.btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}tr[_ngcontent-%COMP%]:hover{background-color:#b3f0ff}.datanotfound[_ngcontent-%COMP%]{font-size:25px;text-align:center;margin-top:180px;margin-bottom:180px;font-weight:700}"]}),yt),Pt=((Ct=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Ct)},Ct.\u0275cmp=g.Nb({type:Ct,selectors:[["ngx-bus-management"]],decls:1,vars:0,template:function(t,e){1&t&&g.Ub(0,"router-outlet")},directives:[i.h],styles:[""]}),Ct),Yt=((vt=function(){function t(e){_classCallCheck(this,t),this.headerService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.updateHeaderTitle("Notifications")}}]),t}()).\u0275fac=function(t){return new(t||vt)(g.Tb(u.a))},vt.\u0275cmp=g.Nb({type:vt,selectors:[["ngx-bus-notifications"]],decls:2,vars:0,template:function(t,e){1&t&&(g.Zb(0,"p"),g.Rc(1,"bus-notifications works!"),g.Yb())},styles:[""]}),vt),Rt=a("3Pt+"),kt=a("d3UM"),Zt=a("FKr1"),Et=a("kmnG");function xt(t,e){1&t&&(g.Zb(0,"h4",22),g.Rc(1,"Create Passenger"),g.Yb())}function wt(t,e){1&t&&(g.Zb(0,"h4",22),g.Rc(1,"Edit Passenger"),g.Yb())}function Mt(t,e){if(1&t){var a=g.ac();g.Zb(0,"mat-option",23),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().changeOrg(t)})),g.Rc(1),g.Yb()}if(2&t){var n=e.$implicit;g.vc("value",n.bus_organisation_id),g.Eb(1),g.Tc(" ",n.org_name,"")}}function St(t,e){if(1&t){var a=g.ac();g.Zb(0,"mat-option",23),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().changeBranchOrg(t)})),g.Rc(1),g.Yb()}if(2&t){var n=e.$implicit;g.vc("value",n.bus_organisation_branch_id),g.Eb(1),g.Tc(" ",n.branch_name,"")}}function Ot(t,e){1&t&&(g.Zb(0,"span"),g.Rc(1," Enter Passenger Name "),g.Yb())}function It(t,e){1&t&&(g.Zb(0,"span"),g.Rc(1," Enter Minimum 3 Letters "),g.Yb())}function Nt(t,e){if(1&t&&(g.Zb(0,"mat-error"),g.Pc(1,Ot,2,0,"span",15),g.Pc(2,It,2,0,"span",15),g.Yb()),2&t){var a=g.pc();g.Eb(1),g.vc("ngIf",a.busPassengerForm.controls.passenger_name.errors.required),g.Eb(1),g.vc("ngIf",a.busPassengerForm.controls.passenger_name.errors.minlength)}}function At(t,e){1&t&&(g.Zb(0,"span"),g.Rc(1," Enter User Name "),g.Yb())}function Ft(t,e){1&t&&(g.Zb(0,"span"),g.Rc(1," Enter Minimum 3 Letters "),g.Yb())}function Ut(t,e){if(1&t&&(g.Zb(0,"mat-error"),g.Pc(1,At,2,0,"span",15),g.Pc(2,Ft,2,0,"span",15),g.Yb()),2&t){var a=g.pc();g.Eb(1),g.vc("ngIf",a.busPassengerForm.controls.username.errors.required),g.Eb(1),g.vc("ngIf",a.busPassengerForm.controls.username.errors.minlength)}}function Bt(t,e){1&t&&(g.Zb(0,"span"),g.Rc(1," Enter Email "),g.Yb())}function Lt(t,e){if(1&t&&(g.Zb(0,"mat-error"),g.Pc(1,Bt,2,0,"span",15),g.Yb()),2&t){var a=g.pc();g.Eb(1),g.vc("ngIf",a.busPassengerForm.controls.email.errors.required)}}function zt(t,e){1&t&&(g.Zb(0,"span"),g.Rc(1," Enter Mobile Number "),g.Yb())}function Wt(t,e){1&t&&(g.Zb(0,"span"),g.Rc(1," Enter Minimum 10 Letters "),g.Yb())}function Vt(t,e){if(1&t&&(g.Zb(0,"mat-error"),g.Pc(1,zt,2,0,"span",15),g.Pc(2,Wt,2,0,"span",15),g.Yb()),2&t){var a=g.pc();g.Eb(1),g.vc("ngIf",a.busPassengerForm.controls.mobile.errors.required),g.Eb(1),g.vc("ngIf",a.busPassengerForm.controls.mobile.errors.minlength)}}function $t(t,e){if(1&t){var a=g.ac();g.Zb(0,"button",24),g.lc("click",(function(){return g.Ic(a),g.pc().createRoute()})),g.Rc(1,"Create Passenger"),g.Yb()}}function Xt(t,e){if(1&t){var a=g.ac();g.Zb(0,"button",24),g.lc("click",(function(){return g.Ic(a),g.pc().createRoute()})),g.Rc(1,"Update Passenger"),g.Yb()}}var Ht,Gt=((Ht=function(){function t(e,a,n,i){_classCallCheck(this,t),this.uTrackService=e,this.toasterService=a,this.dialogRef=n,this.isCreatePassenger=!1,this.geofence_list=[],this.to_geofence_id="",this.from_geofence_id="",this.organisation_list=[],this.branch_organisation_list=[],this.passenger_name="",this.username="",this.email="",this.mobile="",this.bus_route_id="",this.busPassengerForm=new Rt.i({bus_organisation_id:new Rt.f("",[Rt.A.required]),bus_organisation_branch_id:new Rt.f("",[Rt.A.required]),passenger_name:new Rt.f("",[Rt.A.required,Rt.A.minLength(3)]),username:new Rt.f("",[Rt.A.required,Rt.A.minLength(3)]),email:new Rt.f("",[Rt.A.required]),mobile:new Rt.f("",[Rt.A.required,Rt.A.minLength(10)])}),this.bus_route_list_data=[],null!=i&&null!=i&&(this.routeData=JSON.parse(i.bus_route_id))}return _createClass(t,[{key:"ngOnInit",value:function(){null!=this.routeData&&null!=this.routeData?(this.isCreatePassenger=!1,this.bus_passenger_id=this.routeData.bus_passenger_id,this.bus_route_id=this.routeData.bus_route_id,this.passenger_name=this.routeData.route_name,this.username=this.routeData.username,this.mobile=this.routeData.mobile,this.email=this.routeData.email,this.org_name=this.routeData.bus_organisation_id,this.branch_org_name=this.routeData.bus_organisation_id,this.bus_route_list()):(this.isCreatePassenger=!0,this.bus_route_list())}},{key:"bus_route_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_route_list(e).subscribe((function(e){e.status&&null!=e.data&&null!=e.data&&e.data.length>0&&(t.bus_route_list_data=e.data,t.bus_route_id=t.bus_route_list_data[0].bus_route_id,t.bus_organisation_list(),t.bus_organisation_branch_list())}))}},{key:"bus_organisation_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_organisation_list(e).subscribe((function(e){t.organisation_list=[],e.status&&null!=e.data&&null!=e.data&&e.data.length>0&&(t.organisation_list=e.data,null==t.routeData&&null==t.routeData&&(t.org_name=t.organisation_list[0].bus_organisation_id))}))}},{key:"bus_organisation_branch_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_organisation_branch_list(e).subscribe((function(e){e.status&&(t.branch_organisation_list=[],null!=e.data&&null!=e.data&&e.data.length>0&&(t.branch_organisation_list=e.data,null==t.routeData&&null==t.routeData&&(t.branch_org_name=t.branch_organisation_list[0].bus_organisation_branch_id)))}))}},{key:"changeOrg",value:function(t){this.busPassengerForm.value.bus_organisation_id=t.bus_organisation_id}},{key:"changeBranchOrg",value:function(t){this.busPassengerForm.value.bus_organisation_branch_id=t.bus_organisation_branch_id}},{key:"createRoute",value:function(){var t=this,e=this.busPassengerForm.value.passenger_name,a=this.busPassengerForm.value.bus_organisation_id,n=this.busPassengerForm.value.bus_organisation_branch_id,i=this.busPassengerForm.value.email,o=this.busPassengerForm.value.username,r=this.busPassengerForm.value.mobile;if(null!=e&&null!=e&&""!=e&&e.length>=3&&null!=i&&null!=i&&""!=i&&null!=o&&null!=o&&""!=o&&o.length>=3&&null!=r&&null!=r&&""!=r&&r.length>=10)if(this.isCreatePassenger){var c=new FormData;c.append("user_id",localStorage.getItem("USER_ID")),c.append("bus_organisation_id",a),c.append("bus_organisation_branch_id",n),c.append("bus_route_timing_id","2"),c.append("bus_route_id","1"),c.append("bus_trip_id","1"),c.append("passenger_name",e),c.append("email",i),c.append("username",o),c.append("mobile",r),this.uTrackService.bus_passenger_create(c).subscribe((function(e){e.status?(t.toasterService.success("Pragati Utrack",e.message),t.dialogRef.close()):t.toasterService.danger("Pragati Utrack",e.message)}))}else{var l=new FormData;l.append("user_id",localStorage.getItem("USER_ID")),l.append("bus_organisation_id",a),l.append("bus_organisation_branch_id",n),l.append("bus_route_timing_id","2"),l.append("bus_route_id","1"),l.append("bus_trip_id","1"),l.append("passenger_name",e),l.append("email",i),l.append("username",o),l.append("mobile",r),l.append("bus_passenger_id",this.bus_passenger_id),this.uTrackService.bus_passenger_edit(l).subscribe((function(e){e.status?(t.toasterService.success("Pragati Utrack",e.message),t.dialogRef.close()):t.toasterService.danger("Pragati Utrack",e.message)}))}}}]),t}()).\u0275fac=function(t){return new(t||Ht)(g.Tb(d.a),g.Tb(v.cb),g.Tb(f.g),g.Tb(f.a))},Ht.\u0275cmp=g.Nb({type:Ht,selectors:[["ngx-create-bus-passenger"]],decls:64,vars:17,consts:[[1,"col-md-12"],[1,"clearfix"],["style","color: blue;",4,"ngIf"],[1,"content"],[1,"container-fluid"],[1,"card-body"],[1,"col-md-12",3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[1,"required"],["formControlName","bus_organisation_id","placeholder","Select Organisation",1,"form-control",3,"ngModel","ngModelChange"],[3,"value","click",4,"ngFor","ngForOf"],["formControlName","bus_organisation_branch_id","placeholder","Select Organisation Branch",1,"form-control",3,"ngModel","ngModelChange"],["type","text","formControlName","passenger_name","onkeypress","return /[a-z]/i.test(event.key)","maxlength","30","placeholder","Enter Passenger Name",1,"form-control",2,"text-transform","capitalize",3,"ngModel","ngModelChange"],[4,"ngIf"],["type","text","formControlName","username","onkeypress","return /[a-z]/i.test(event.key)","maxlength","30","placeholder","Enter User Name",1,"form-control",2,"text-transform","capitalize",3,"ngModel","ngModelChange"],["type","text","formControlName","email","maxlength","30","placeholder","Enter Email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","formControlName","mobile","oninput","this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');","maxlength","10","placeholder","Enter Number Name",1,"form-control",2,"text-transform","capitalize",3,"ngModel","ngModelChange"],[1,"col-md-12","text-center"],["mat-dialog-close","false",1,"btn","btn-warning","btn-sm","mrl5"],["class","btn btn-primary btn-sm mrl5",3,"click",4,"ngIf"],[2,"color","blue"],[3,"value","click"],[1,"btn","btn-primary","btn-sm","mrl5",3,"click"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Pc(2,xt,2,0,"h4",2),g.Pc(3,wt,2,0,"h4",2),g.Ub(4,"hr"),g.Yb(),g.Yb(),g.Zb(5,"section",3),g.Zb(6,"div",4),g.Zb(7,"div",5),g.Zb(8,"div",6),g.Zb(9,"div",7),g.Zb(10,"div",8),g.Zb(11,"div",9),g.Zb(12,"label"),g.Rc(13," Bus Organisation "),g.Zb(14,"span",10),g.Rc(15,"*"),g.Yb(),g.Yb(),g.Zb(16,"mat-select",11),g.lc("ngModelChange",(function(t){return e.org_name=t})),g.Pc(17,Mt,2,2,"mat-option",12),g.Yb(),g.Yb(),g.Yb(),g.Zb(18,"div",8),g.Zb(19,"div",9),g.Zb(20,"label"),g.Rc(21,"Bus Organisation Branch "),g.Zb(22,"span",10),g.Rc(23,"*"),g.Yb(),g.Yb(),g.Zb(24,"mat-select",13),g.lc("ngModelChange",(function(t){return e.branch_org_name=t})),g.Pc(25,St,2,2,"mat-option",12),g.Yb(),g.Yb(),g.Yb(),g.Zb(26,"div",8),g.Zb(27,"div",9),g.Zb(28,"label"),g.Rc(29," Passenger Name "),g.Zb(30,"span",10),g.Rc(31,"*"),g.Yb(),g.Yb(),g.Zb(32,"input",14),g.lc("ngModelChange",(function(t){return e.passenger_name=t})),g.Yb(),g.Pc(33,Nt,3,2,"mat-error",15),g.Yb(),g.Yb(),g.Zb(34,"div",8),g.Zb(35,"div",9),g.Zb(36,"label"),g.Rc(37," User Name "),g.Zb(38,"span",10),g.Rc(39,"*"),g.Yb(),g.Yb(),g.Zb(40,"input",16),g.lc("ngModelChange",(function(t){return e.username=t})),g.Yb(),g.Pc(41,Ut,3,2,"mat-error",15),g.Yb(),g.Yb(),g.Zb(42,"div",8),g.Zb(43,"div",9),g.Zb(44,"label"),g.Rc(45," Email "),g.Zb(46,"span",10),g.Rc(47,"*"),g.Yb(),g.Yb(),g.Zb(48,"input",17),g.lc("ngModelChange",(function(t){return e.email=t})),g.Yb(),g.Pc(49,Lt,2,1,"mat-error",15),g.Yb(),g.Yb(),g.Zb(50,"div",8),g.Zb(51,"div",9),g.Zb(52,"label"),g.Rc(53," Mobile Number "),g.Zb(54,"span",10),g.Rc(55,"*"),g.Yb(),g.Yb(),g.Zb(56,"input",18),g.lc("ngModelChange",(function(t){return e.mobile=t})),g.Yb(),g.Pc(57,Vt,3,2,"mat-error",15),g.Yb(),g.Yb(),g.Yb(),g.Zb(58,"div",19),g.Zb(59,"div",9),g.Zb(60,"button",20),g.Rc(61,"Cancel"),g.Yb(),g.Pc(62,$t,2,0,"button",21),g.Pc(63,Xt,2,0,"button",21),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(2),g.vc("ngIf",e.isCreatePassenger),g.Eb(1),g.vc("ngIf",!e.isCreatePassenger),g.Eb(5),g.vc("formGroup",e.busPassengerForm),g.Eb(8),g.vc("ngModel",e.org_name),g.Eb(1),g.vc("ngForOf",e.organisation_list),g.Eb(7),g.vc("ngModel",e.branch_org_name),g.Eb(1),g.vc("ngForOf",e.branch_organisation_list),g.Eb(7),g.vc("ngModel",e.passenger_name),g.Eb(1),g.vc("ngIf",e.busPassengerForm.controls.passenger_name.errors&&e.busPassengerForm.controls.passenger_name.touched),g.Eb(7),g.vc("ngModel",e.username),g.Eb(1),g.vc("ngIf",e.busPassengerForm.controls.username.errors&&e.busPassengerForm.controls.username.touched),g.Eb(7),g.vc("ngModel",e.email),g.Eb(1),g.vc("ngIf",e.busPassengerForm.controls.email.errors&&e.busPassengerForm.controls.email.touched),g.Eb(7),g.vc("ngModel",e.mobile),g.Eb(1),g.vc("ngIf",e.busPassengerForm.controls.mobile.errors&&e.busPassengerForm.controls.mobile.touched),g.Eb(5),g.vc("ngIf",e.isCreatePassenger),g.Eb(1),g.vc("ngIf",!e.isCreatePassenger))},directives:[n.p,Rt.r,Rt.j,kt.a,Rt.q,Rt.h,n.o,Rt.d,Rt.l,f.d,Zt.o,Et.b],styles:[".card-body[_ngcontent-%COMP%]{flex:1 1 auto;min-height:1px;padding:1.25rem}.required[_ngcontent-%COMP%]{color:red}label[_ngcontent-%COMP%]{font-weight:700}.mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.model-resize-outviwe[_ngcontent-%COMP%]{margin-top:70px;max-width:650px}.model-resize[_ngcontent-%COMP%]{height:450px;width:650px;margin-left:-110px}.mrl5[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}  .mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:hidden;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}"]}),Ht),qt=["content"];function jt(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," ID "),g.Yb())}function Jt(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.index;g.Eb(1),g.Tc(" ",a+1," ")}}function Qt(t,e){1&t&&(g.Zb(0,"th",40),g.Rc(1," Vehicle Number "),g.Yb())}function Kt(t,e){if(1&t&&(g.Zb(0,"td",41),g.Zb(1,"a",42),g.Rc(2),g.Yb(),g.Yb()),2&t){var a=e.$implicit;g.Eb(2),g.Tc(" ",a.vehicle_number,"")}}function te(t,e){1&t&&(g.Zb(0,"th",40),g.Rc(1," Passenger Name "),g.Yb())}function ee(t,e){if(1&t&&(g.Zb(0,"td",41),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.passenger_name," ")}}function ae(t,e){1&t&&(g.Zb(0,"th",40),g.Rc(1," Username "),g.Yb())}function ne(t,e){if(1&t&&(g.Zb(0,"td",41),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.username," ")}}function ie(t,e){1&t&&(g.Zb(0,"th",40),g.Rc(1," Mobile"),g.Yb())}function oe(t,e){if(1&t&&(g.Zb(0,"td",41),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.mobile," ")}}function re(t,e){1&t&&(g.Zb(0,"th",40),g.Rc(1," Email "),g.Yb())}function ce(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.email," ")}}function le(t,e){1&t&&(g.Zb(0,"th",40),g.Rc(1," Organisation Name "),g.Yb())}function se(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.org_name," ")}}function be(t,e){1&t&&(g.Zb(0,"th",40),g.Rc(1," Branch Name "),g.Yb())}function ue(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.branch_name)}}function me(t,e){1&t&&(g.Zb(0,"th",40),g.Rc(1," Route Name "),g.Yb())}function de(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.route_name)}}function pe(t,e){1&t&&(g.Zb(0,"th",40),g.Rc(1," Trip Type "),g.Yb())}function ge(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.trip_type)}}function fe(t,e){1&t&&(g.Zb(0,"th",40),g.Rc(1," Trip Start Time"),g.Yb())}function he(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.trip_start_time," ")}}function _e(t,e){1&t&&(g.Zb(0,"th",40),g.Rc(1," Trip End Time"),g.Yb())}function ve(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.trip_end_time," ")}}function Ce(t,e){1&t&&(g.Zb(0,"th",40),g.Rc(1," Edit "),g.Yb())}function ye(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",39),g.Zb(1,"a"),g.Zb(2,"i",43),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().edit(t)})),g.Yb(),g.Yb(),g.Yb()}}function De(t,e){1&t&&g.Ub(0,"tr",44)}function Te(t,e){1&t&&g.Ub(0,"tr",45)}var Pe,Ye=function(){return{icon:"refresh-outline",pack:"eva"}},Re=((Pe=function(){function t(e,a,n){_classCallCheck(this,t),this.headerService=e,this.uTrackService=a,this.dialog=n,this.ELEMENT_DATA=[],this.displayedColumns=["id","vehicle_number","passenger_name","username","mobile","email","org_name","branch_name","route_name","trip_type","trip_start_time","trip_end_time","edit"],this.dataSource=new c.k(this.ELEMENT_DATA),this.filterValue=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.updateHeaderTitle("Passengers"),this.bus_passenger_list()}},{key:"bus_passenger_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_passenger_list(e).subscribe((function(e){e.status?(t.ELEMENT_DATA=[],null!=e.data&&null!=e.data&&e.data.length>0?(t.ELEMENT_DATA=e.data,t.TableDataNotshow=!1,t.dataSource.data=t.ELEMENT_DATA):t.TableDataNotshow=!0):t.TableDataNotshow=!0}))}},{key:"applyFilter",value:function(t){"Enter"==t.key&&(this.filterValue=t.target.value,this.filterValue=this.filterValue.trim(),this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA)}},{key:"refresh",value:function(){this.bus_passenger_list()}},{key:"search",value:function(){this.filterValue=this.filterValue.trim(),this.filterValue=document.getElementById("search_element").value,this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA}},{key:"add",value:function(){var t=this;this.dialog.open(Gt,{width:"50%"}).afterClosed().subscribe((function(e){t.bus_passenger_list()}))}},{key:"edit",value:function(t){var e=this,a=JSON.stringify(t);this.dialog.open(Gt,{width:"50%",data:{bus_route_id:a}}).afterClosed().subscribe((function(t){e.bus_passenger_list()}))}},{key:"downloadPDF",value:function(){var t,e="Report generated on "+b.a.getDisplayTodayDateTime(),a="UTrack Bus Passengers Report\n".concat(e),n=[],i=1,o=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(o.s();!(t=o.n()).done;){var r=t.value,c=[];c.push(i.toString()),c.push(r.vehicle_number),c.push(r.passenger_name),c.push(r.username),c.push(r.mobile),c.push(r.email),c.push(r.org_name),c.push(r.branch_name),c.push(r.route_name),c.push(r.trip_type),c.push(r.trip_start_time),c.push(r.trip_end_time),n.push(c),i++}}catch(l){o.e(l)}finally{o.f()}p.a.downloadPdf(a,["ID","Vehicle Number","Passenger Name","Username","Mobile","Email","Organisation Name","Branch Name","Route Name","Trip Type","Trip Start Time","Trip End Time"],n,"BusPassengersReport")}},{key:"Exportexcle",value:function(){var t=new s.Workbook,e=t.addWorksheet("Utrack"),a=t.addImage({base64:m.a.uTrackLogoWithBG,extension:"png"}),n=t.addImage({base64:m.a.ramkiLogo,extension:"png"});e.mergeCells("A1:B3"),e.addImage(a,"A1:B3"),e.mergeCells("G1:G3"),e.addImage(n,"G1:G3"),e.mergeCells("C1","F2");var i=e.getCell("C1");i.value="UTrack Bus Passengers Report",i.font={name:"Calibri",size:18,underline:"single",bold:!0,color:{argb:"0085A3"}},i.alignment={vertical:"middle",horizontal:"center"},e.mergeCells("C3","F3");var o=e.getCell("C3");o.value="Report generated on "+b.a.getDisplayTodayDateTime(),o.font={name:"Calibri",size:14,underline:"single",bold:!0,color:{argb:"0085A3"}},o.alignment={vertical:"middle",horizontal:"center"},e.addRow([]),e.addRow(["ID","Vehicle Number","Passenger Name","Username","Mobile","Email","Organisation Name","Branch Name","Route Name","Trip Type","Trip Start Time","Trip End Time"]).eachCell((function(t,e){t.fill={type:"pattern",pattern:"solid",fgColor:{argb:"4167B8"},bgColor:{argb:""}},t.font={bold:!0,color:{argb:"FFFFFF"},size:14},t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}));var r,c=1,u=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(u.s();!(r=u.n()).done;){var d=r.value,p=[];p.push(c.toString()),p.push(d.vehicle_number),p.push(d.passenger_name),p.push(d.username),p.push(d.mobile),p.push(d.email),p.push(d.org_name),p.push(d.branch_name),p.push(d.route_name),p.push(d.trip_type),p.push(d.trip_start_time),p.push(d.trip_end_time),e.addRow(p),c++}}catch(g){u.e(g)}finally{u.f()}e.getColumn(1).width=5,e.getColumn(2).width=12,e.getColumn(3).width=15,e.getColumn(4).width=20,e.getColumn(5).width=15,e.getColumn(6).width=20,e.getColumn(7).width=28,e.getColumn(8).width=28,e.getColumn(9).width=18,e.getColumn(10).width=15,e.getColumn(11).width=28,e.getColumn(12).width=28,e.addRow([]),t.xlsx.writeBuffer().then((function(t){var e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});l.saveAs(e,"BusPassengersReport.xlsx")}))}}]),t}()).\u0275fac=function(t){return new(t||Pe)(g.Tb(u.a),g.Tb(d.a),g.Tb(f.b))},Pe.\u0275cmp=g.Nb({type:Pe,selectors:[["ngx-bus-passengers"]],viewQuery:function(t,e){var a;1&t&&(g.Nc(o.a,!0),g.Nc(r.a,!0),g.Yc(qt,!0)),2&t&&(g.Dc(a=g.mc())&&(e.paginator=a.first),g.Dc(a=g.mc())&&(e.sort=a.first),g.Dc(a=g.mc())&&(e.content=a.first))},decls:65,vars:6,consts:[[1,"row","clearfix"],[1,"col-md-8","text-left"],["type","search","matInput","","id","search_element","placeholder","Search Organisation",1,"form-control","search-field","pull-left",3,"keyup"],[1,"btn","btn-primary","pull-left","ml-20","mr15","btn-sm",3,"click"],[1,"fa","fa-search"],["mat-button","",1,"btn","btn-danger","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-excel"],["mat-button","",1,"btn","btn-primary","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-pdf"],["nbTooltip","Refresh","nbTooltipStatus","success",1,"btn","btn-success","pull-left","mr1","btn-sm",3,"nbTooltipIcon","click"],[1,"fa","fa-sync"],[1,"col-md-4","ml-auto","text-right"],[1,"form-group"],[1,"btn","btn-warning","btn-sm",3,"click"],["id","content",1,"example-container","mat-elevation-z8"],["content",""],[1,"table-responsive",2,"height","500px","overflow","auto !important"],["mat-table","","matSort","",1,"table-bordered","table",3,"dataSource"],["matColumnDef","id"],["class","bg-primary !important ml15","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","vehicle_number"],["class","bg-primary !important","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","cellSpace","mat-cell","",4,"matCellDef"],["matColumnDef","passenger_name"],["matColumnDef","username"],["mat-cell","","class","cellSpace",4,"matCellDef"],["matColumnDef","mobile"],["matColumnDef","email"],["matColumnDef","org_name"],["matColumnDef","branch_name"],["matColumnDef","route_name"],["matColumnDef","trip_type"],["matColumnDef","trip_start_time"],["matColumnDef","trip_end_time"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important","ml15"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important"],["mat-cell","",1,"cellSpace"],[2,"cursor","pointer","text-decoration","underline","color","blue"],[1,"fa","fa-edit","text-blue",2,"cursor","pointer","color","blue",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Zb(2,"label"),g.Zb(3,"input",2),g.lc("keyup",(function(t){return e.applyFilter(t)})),g.Yb(),g.Yb(),g.Zb(4,"button",3),g.lc("click",(function(){return e.search()})),g.Ub(5,"i",4),g.Yb(),g.Zb(6,"button",5),g.lc("click",(function(){return e.Exportexcle()})),g.Ub(7,"i",6),g.Rc(8," \xa0 Export to Excel "),g.Yb(),g.Zb(9,"button",7),g.lc("click",(function(){return e.downloadPDF()})),g.Ub(10,"i",8),g.Rc(11," \xa0 Export to PDF "),g.Yb(),g.Zb(12,"button",9),g.lc("click",(function(){return e.refresh()})),g.Ub(13,"i",10),g.Yb(),g.Yb(),g.Zb(14,"div",11),g.Zb(15,"div",12),g.Zb(16,"button",13),g.lc("click",(function(){return e.add()})),g.Zb(17,"b"),g.Rc(18,"+ Create Passenger"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(19,"div"),g.Zb(20,"div",14,15),g.Zb(22,"div",16),g.Zb(23,"table",17),g.Xb(24,18),g.Pc(25,jt,2,0,"th",19),g.Pc(26,Jt,2,1,"td",20),g.Wb(),g.Xb(27,21),g.Pc(28,Qt,2,0,"th",22),g.Pc(29,Kt,3,1,"td",23),g.Wb(),g.Xb(30,24),g.Pc(31,te,2,0,"th",22),g.Pc(32,ee,2,1,"td",23),g.Wb(),g.Xb(33,25),g.Pc(34,ae,2,0,"th",22),g.Pc(35,ne,2,1,"td",26),g.Wb(),g.Xb(36,27),g.Pc(37,ie,2,0,"th",22),g.Pc(38,oe,2,1,"td",26),g.Wb(),g.Xb(39,28),g.Pc(40,re,2,0,"th",22),g.Pc(41,ce,2,1,"td",20),g.Wb(),g.Xb(42,29),g.Pc(43,le,2,0,"th",22),g.Pc(44,se,2,1,"td",20),g.Wb(),g.Xb(45,30),g.Pc(46,be,2,0,"th",22),g.Pc(47,ue,2,1,"td",20),g.Wb(),g.Xb(48,31),g.Pc(49,me,2,0,"th",22),g.Pc(50,de,2,1,"td",20),g.Wb(),g.Xb(51,32),g.Pc(52,pe,2,0,"th",22),g.Pc(53,ge,2,1,"td",20),g.Wb(),g.Xb(54,33),g.Pc(55,fe,2,0,"th",22),g.Pc(56,he,2,1,"td",20),g.Wb(),g.Xb(57,34),g.Pc(58,_e,2,0,"th",22),g.Pc(59,ve,2,1,"td",20),g.Wb(),g.Xb(60,35),g.Pc(61,Ce,2,0,"th",22),g.Pc(62,ye,3,0,"td",20),g.Wb(),g.Pc(63,De,1,0,"tr",36),g.Pc(64,Te,1,0,"tr",37),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(12),g.vc("nbTooltipIcon",g.zc(5,Ye)),g.Eb(11),g.vc("dataSource",e.dataSource),g.Eb(40),g.vc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),g.Eb(1),g.vc("matRowDefColumns",e.displayedColumns))},directives:[h.b,_.a,v.db,c.j,r.a,c.c,c.e,c.b,c.g,c.i,c.d,r.b,c.a,c.f,c.h],styles:[".mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff!important;vertical-align:middle!important;padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{overflow-x:scroll!important}.mr15[_ngcontent-%COMP%]{margin-right:15px!important}.mr12[_ngcontent-%COMP%]{margin-left:-49px;padding:1px 1px 0}.mt50[_ngcontent-%COMP%]{margin-top:76px}.my-custom-scrollbar[_ngcontent-%COMP%]{overflow:auto}.table-wrapper-scroll-y[_ngcontent-%COMP%]{display:block}.mat-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}.mat-input-element[_ngcontent-%COMP%]{line-height:auto;padding:6px;height:auto;font-size:12px;border:1px solid #0779e4;background:#fff}.ml-20[_ngcontent-%COMP%]{margin-left:-20px!important}.btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}tr[_ngcontent-%COMP%]:hover{background-color:#b3f0ff}.datanotfound[_ngcontent-%COMP%]{font-size:25px;text-align:center;margin-top:180px;margin-bottom:180px;font-weight:700}"]}),Pe);function ke(t,e){1&t&&(g.Zb(0,"h4",21),g.Rc(1,"Create Route"),g.Yb())}function Ze(t,e){1&t&&(g.Zb(0,"h4",21),g.Rc(1,"Edit Route"),g.Yb())}function Ee(t,e){1&t&&(g.Zb(0,"span"),g.Rc(1," Enter Organisation Name "),g.Yb())}function xe(t,e){1&t&&(g.Zb(0,"span"),g.Rc(1," Enter Minimum 3 Letters "),g.Yb())}function we(t,e){if(1&t&&(g.Zb(0,"mat-error"),g.Pc(1,Ee,2,0,"span",12),g.Pc(2,xe,2,0,"span",12),g.Yb()),2&t){var a=g.pc();g.Eb(1),g.vc("ngIf",a.busRouteForm.controls.route_name.errors.required),g.Eb(1),g.vc("ngIf",a.busRouteForm.controls.route_name.errors.minlength)}}function Me(t,e){if(1&t){var a=g.ac();g.Zb(0,"mat-option",22),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().fromChangeGeofence(t)})),g.Rc(1),g.Yb()}if(2&t){var n=e.$implicit;g.vc("value",n.geofence_id),g.Eb(1),g.Tc(" ",n.geofence_name,"")}}function Se(t,e){if(1&t){var a=g.ac();g.Zb(0,"mat-option",22),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().toChangeGeofence(t)})),g.Rc(1),g.Yb()}if(2&t){var n=e.$implicit;g.vc("value",n.geofence_id),g.Eb(1),g.Tc(" ",n.geofence_name,"")}}function Oe(t,e){if(1&t){var a=g.ac();g.Zb(0,"mat-option",22),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().changeOrg(t)})),g.Rc(1),g.Yb()}if(2&t){var n=e.$implicit;g.vc("value",n.bus_organisation_id),g.Eb(1),g.Tc(" ",n.org_name,"")}}function Ie(t,e){if(1&t){var a=g.ac();g.Zb(0,"mat-option",22),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().changeBranchOrg(t)})),g.Rc(1),g.Yb()}if(2&t){var n=e.$implicit;g.vc("value",n.bus_organisation_branch_id),g.Eb(1),g.Tc(" ",n.branch_name,"")}}function Ne(t,e){if(1&t){var a=g.ac();g.Zb(0,"button",23),g.lc("click",(function(){return g.Ic(a),g.pc().createRoute()})),g.Rc(1,"Create Route"),g.Yb()}}function Ae(t,e){if(1&t){var a=g.ac();g.Zb(0,"button",23),g.lc("click",(function(){return g.Ic(a),g.pc().createRoute()})),g.Rc(1,"Update Route"),g.Yb()}}var Fe,Ue=((Fe=function(){function t(e,a,n,i){_classCallCheck(this,t),this.uTrackService=e,this.toasterService=a,this.dialogRef=n,this.isCreateRoute=!1,this.geofence_list=[],this.to_geofence_id="",this.from_geofence_id="",this.organisation_list=[],this.branch_organisation_list=[],this.routeName="",this.bus_route_id="",this.busRouteForm=new Rt.i({route_name:new Rt.f("",[Rt.A.required,Rt.A.minLength(3)]),from_geofence_id:new Rt.f("",[Rt.A.required]),to_geofence_id:new Rt.f("",[Rt.A.required]),bus_organisation_id:new Rt.f("",[Rt.A.required]),bus_organisation_branch_id:new Rt.f("",[Rt.A.required])}),null!=i&&null!=i&&(this.routeData=JSON.parse(i.bus_route_id))}return _createClass(t,[{key:"ngOnInit",value:function(){null!=this.routeData&&null!=this.routeData?(this.isCreateRoute=!1,this.bus_route_id=this.routeData.bus_route_id,this.routeName=this.routeData.route_name,this.from_geofence_id=this.routeData.from_geofence_id,this.to_geofence_id=this.routeData.to_geofence_id,this.org_name=this.routeData.bus_organisation_id,this.branch_org_name=this.routeData.bus_organisation_id,this.bus_geofence_list(),this.bus_organisation_list(),this.bus_organisation_branch_list()):(this.isCreateRoute=!0,this.bus_geofence_list(),this.bus_organisation_list(),this.bus_organisation_branch_list())}},{key:"bus_geofence_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_geofence_list(e).subscribe((function(e){t.geofence_list=[],e.status&&null!=e.data&&null!=e.data&&e.data.length>0&&(t.geofence_list=e.data,null==t.routeData&&null==t.routeData&&(t.from_geofence_id=t.geofence_list[0].geofence_id,t.to_geofence_id=t.geofence_list[0].geofence_id))}))}},{key:"bus_organisation_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_organisation_list(e).subscribe((function(e){t.organisation_list=[],e.status&&null!=e.data&&null!=e.data&&e.data.length>0&&(t.organisation_list=e.data,null==t.routeData&&null==t.routeData&&(t.org_name=t.organisation_list[0].bus_organisation_id))}))}},{key:"bus_organisation_branch_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_organisation_branch_list(e).subscribe((function(e){e.status&&(t.branch_organisation_list=[],null!=e.data&&null!=e.data&&e.data.length>0&&(t.branch_organisation_list=e.data,null==t.routeData&&null==t.routeData&&(t.branch_org_name=t.branch_organisation_list[0].bus_organisation_branch_id)))}))}},{key:"changeOrg",value:function(t){this.busRouteForm.value.bus_organisation_id=t.bus_organisation_id}},{key:"changeBranchOrg",value:function(t){this.busRouteForm.value.bus_organisation_branch_id=t.bus_organisation_branch_id}},{key:"fromChangeGeofence",value:function(t){this.busRouteForm.value.from_geofence_id=t.geofence_id}},{key:"toChangeGeofence",value:function(t){this.busRouteForm.value.to_geofence_id=t.geofence_id}},{key:"createRoute",value:function(){var t=this,e=this.busRouteForm.value.route_name,a=this.busRouteForm.value.from_geofence_id,n=this.busRouteForm.value.to_geofence_id,i=this.busRouteForm.value.bus_organisation_id,o=this.busRouteForm.value.bus_organisation_branch_id;if(null!=e&&null!=e&&""!=e&&e.length>=3)if(this.isCreateRoute){var r=new FormData;r.append("user_id",localStorage.getItem("USER_ID")),r.append("route_name",e),r.append("from_geofence_id",a),r.append("to_geofence_id",n),r.append("bus_organisation_id",i),r.append("bus_organisation_branch_id",o),this.uTrackService.bus_route_create(r).subscribe((function(e){e.status?(t.toasterService.success("Pragati Utrack",e.message),t.dialogRef.close()):t.toasterService.danger("Pragati Utrack",e.message)}))}else{var c=new FormData;c.append("user_id",localStorage.getItem("USER_ID")),c.append("route_name",e),c.append("from_geofence_id",a),c.append("to_geofence_id",n),c.append("bus_organisation_id",i),c.append("bus_organisation_branch_id",o),c.append("bus_route_id",this.bus_route_id),this.uTrackService.bus_route_edit(c).subscribe((function(e){e.status?(t.toasterService.success("Pragati Utrack",e.message),t.dialogRef.close()):t.toasterService.danger("Pragati Utrack",e.message)}))}else this.toasterService.danger("Pragati Utrack","Enter Route Name")}}]),t}()).\u0275fac=function(t){return new(t||Fe)(g.Tb(d.a),g.Tb(v.cb),g.Tb(f.g),g.Tb(f.a))},Fe.\u0275cmp=g.Nb({type:Fe,selectors:[["ngx-create-bus-route"]],decls:56,vars:15,consts:[[1,"col-md-12"],[1,"clearfix"],["style","color: blue;",4,"ngIf"],[1,"content"],[1,"container-fluid"],[1,"card-body"],[1,"col-md-12",3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[1,"required"],["type","text","formControlName","route_name","onkeypress","return /[a-zA-Z0-9 _-]+/i.test(event.key)","maxlength","30","placeholder","Enter Route Name",1,"form-control",2,"text-transform","capitalize",3,"ngModel","ngModelChange"],[4,"ngIf"],["formControlName","from_geofence_id","placeholder","Select From Geofence",1,"form-control",3,"ngModel","ngModelChange"],[3,"value","click",4,"ngFor","ngForOf"],["formControlName","to_geofence_id","placeholder","Select To Geofence",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","bus_organisation_id","placeholder","Select Organisation",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","bus_organisation_branch_id","placeholder","Select Organisation Branch",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12","text-center"],["mat-dialog-close","false",1,"btn","btn-warning","btn-sm","mrl5"],["class","btn btn-primary btn-sm mrl5",3,"click",4,"ngIf"],[2,"color","blue"],[3,"value","click"],[1,"btn","btn-primary","btn-sm","mrl5",3,"click"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Pc(2,ke,2,0,"h4",2),g.Pc(3,Ze,2,0,"h4",2),g.Ub(4,"hr"),g.Yb(),g.Yb(),g.Zb(5,"section",3),g.Zb(6,"div",4),g.Zb(7,"div",5),g.Zb(8,"div",6),g.Zb(9,"div",7),g.Zb(10,"div",8),g.Zb(11,"div",9),g.Zb(12,"label"),g.Rc(13," Route Name "),g.Zb(14,"span",10),g.Rc(15,"*"),g.Yb(),g.Yb(),g.Zb(16,"input",11),g.lc("ngModelChange",(function(t){return e.routeName=t})),g.Yb(),g.Pc(17,we,3,2,"mat-error",12),g.Yb(),g.Yb(),g.Zb(18,"div",8),g.Zb(19,"div",9),g.Zb(20,"label"),g.Rc(21,"From Geofence "),g.Zb(22,"span",10),g.Rc(23,"*"),g.Yb(),g.Yb(),g.Zb(24,"mat-select",13),g.lc("ngModelChange",(function(t){return e.from_geofence_id=t})),g.Pc(25,Me,2,2,"mat-option",14),g.Yb(),g.Yb(),g.Yb(),g.Zb(26,"div",8),g.Zb(27,"div",9),g.Zb(28,"label"),g.Rc(29," To Geofence "),g.Zb(30,"span",10),g.Rc(31,"*"),g.Yb(),g.Yb(),g.Zb(32,"mat-select",15),g.lc("ngModelChange",(function(t){return e.to_geofence_id=t})),g.Pc(33,Se,2,2,"mat-option",14),g.Yb(),g.Yb(),g.Yb(),g.Zb(34,"div",8),g.Zb(35,"div",9),g.Zb(36,"label"),g.Rc(37," Bus Organisation "),g.Zb(38,"span",10),g.Rc(39,"*"),g.Yb(),g.Yb(),g.Zb(40,"mat-select",16),g.lc("ngModelChange",(function(t){return e.org_name=t})),g.Pc(41,Oe,2,2,"mat-option",14),g.Yb(),g.Yb(),g.Yb(),g.Zb(42,"div",8),g.Zb(43,"div",9),g.Zb(44,"label"),g.Rc(45,"Bus Organisation Branch "),g.Zb(46,"span",10),g.Rc(47,"*"),g.Yb(),g.Yb(),g.Zb(48,"mat-select",17),g.lc("ngModelChange",(function(t){return e.branch_org_name=t})),g.Pc(49,Ie,2,2,"mat-option",14),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(50,"div",18),g.Zb(51,"div",9),g.Zb(52,"button",19),g.Rc(53,"Cancel"),g.Yb(),g.Pc(54,Ne,2,0,"button",20),g.Pc(55,Ae,2,0,"button",20),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(2),g.vc("ngIf",e.isCreateRoute),g.Eb(1),g.vc("ngIf",!e.isCreateRoute),g.Eb(5),g.vc("formGroup",e.busRouteForm),g.Eb(8),g.vc("ngModel",e.routeName),g.Eb(1),g.vc("ngIf",e.busRouteForm.controls.route_name.errors&&e.busRouteForm.controls.route_name.touched),g.Eb(7),g.vc("ngModel",e.from_geofence_id),g.Eb(1),g.vc("ngForOf",e.geofence_list),g.Eb(7),g.vc("ngModel",e.to_geofence_id),g.Eb(1),g.vc("ngForOf",e.geofence_list),g.Eb(7),g.vc("ngModel",e.org_name),g.Eb(1),g.vc("ngForOf",e.organisation_list),g.Eb(7),g.vc("ngModel",e.branch_org_name),g.Eb(1),g.vc("ngForOf",e.branch_organisation_list),g.Eb(5),g.vc("ngIf",e.isCreateRoute),g.Eb(1),g.vc("ngIf",!e.isCreateRoute))},directives:[n.p,Rt.r,Rt.j,Rt.d,Rt.q,Rt.h,Rt.l,kt.a,n.o,f.d,Et.b,Zt.o],styles:[".card-body[_ngcontent-%COMP%]{flex:1 1 auto;min-height:1px;padding:1.25rem}.required[_ngcontent-%COMP%]{color:red}label[_ngcontent-%COMP%]{font-weight:700}.mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.model-resize-outviwe[_ngcontent-%COMP%]{margin-top:70px;max-width:650px}.model-resize[_ngcontent-%COMP%]{height:450px;width:650px;margin-left:-110px}.mrl5[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}  .mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:hidden;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}"]}),Fe),Be=["content"];function Le(t,e){1&t&&(g.Zb(0,"th",36),g.Rc(1," ID "),g.Yb())}function ze(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.index;g.Eb(1),g.Tc(" ",a+1," ")}}function We(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Route Name "),g.Yb())}function Ve(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",39),g.Zb(1,"a",40),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().route_details(t)})),g.Rc(2),g.Yb(),g.Yb()}if(2&t){var n=e.$implicit;g.Eb(2),g.Tc(" ",n.route_name,"")}}function $e(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," From Geofence Name "),g.Yb())}function Xe(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.from_geofence_name," ")}}function He(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," To Geofence Name"),g.Yb())}function Ge(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.to_location_name," ")}}function qe(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Organisation Name"),g.Yb())}function je(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.org_name," ")}}function Je(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Branch Name"),g.Yb())}function Qe(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.branch_name," ")}}function Ke(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Added Date & Time"),g.Yb())}function ta(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.qc(2,"date"),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",g.sc(2,1,a.added_date_time,"dd MMM yyyy hh:mm:ss a")," ")}}function ea(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Stops Count "),g.Yb())}function aa(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.stops_count)}}function na(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Status "),g.Yb())}function ia(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.status)}}function oa(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Edit "),g.Yb())}function ra(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",37),g.Zb(1,"a"),g.Zb(2,"i",41),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().edit(t)})),g.Yb(),g.Yb(),g.Yb()}}function ca(t,e){1&t&&g.Ub(0,"tr",42)}function la(t,e){1&t&&g.Ub(0,"tr",43)}function sa(t,e){1&t&&(g.Zb(0,"div",44),g.Zb(1,"p",45),g.Rc(2,"Data Not Found"),g.Yb(),g.Yb())}var ba,ua=function(){return{icon:"refresh-outline",pack:"eva"}},ma=((ba=function(){function t(e,a,n,i){_classCallCheck(this,t),this.headerService=e,this.dialog=a,this.routes=n,this.uTrackService=i,this.ELEMENT_DATA=[],this.displayedColumns=["id","route_name","from_geofence_name","from_location_name","org_name","branch_name","added_date_time","stops_count","status","edit"],this.dataSource=new c.k(this.ELEMENT_DATA),this.TableDataNotshow=!1,this.filterValue=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.updateHeaderTitle("Routes"),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.bus_route_list()}},{key:"bus_route_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_route_list(e).subscribe((function(e){e.status&&null!=e.data&&null!=e.data&&e.data.length>0?(t.ELEMENT_DATA=e.data,t.dataSource.data=t.ELEMENT_DATA,t.TableDataNotshow=!1):t.TableDataNotshow=!0}))}},{key:"applyFilter",value:function(t){"Enter"==t.key&&(this.filterValue=t.target.value,this.filterValue=this.filterValue.trim(),this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA)}},{key:"refresh",value:function(){this.bus_route_list()}},{key:"search",value:function(){this.filterValue=this.filterValue.trim(),this.filterValue=document.getElementById("search_element").value,this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA}},{key:"busRoute",value:function(){var t=this;this.dialog.open(Ue,{width:"50%"}).afterClosed().subscribe((function(e){t.bus_route_list()}))}},{key:"edit",value:function(t){var e=this,a=JSON.stringify(t);this.dialog.open(Ue,{width:"50%",data:{bus_route_id:a}}).afterClosed().subscribe((function(t){e.bus_route_list()}))}},{key:"route_details",value:function(t){this.routes.navigate(["web/bus_management/bus_routes/bus_route_details",t.bus_route_id])}},{key:"downloadPDF",value:function(){var t,e="Report generated on "+b.a.getDisplayTodayDateTime(),a="UTrack Bus Report\n".concat(e),n=[],i=1,o=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(o.s();!(t=o.n()).done;){var r=t.value,c=[];c.push(i.toString()),c.push(r.route_name),c.push(r.from_geofence_name),c.push(r.to_location_name),c.push(r.org_name),c.push(r.branch_name),c.push(b.a.getDisplayDateTime(r.added_date_time)),c.push(r.stops_count),c.push(r.status),n.push(c),i++}}catch(l){o.e(l)}finally{o.f()}p.a.downloadPdf(a,["ID","Route Name","From Geofence Name","To Geofence Name","Organisation Name","Branch Name","Added Date & Time","Stops Count","Status"],n,"BusRouteReport")}},{key:"Exportexcle",value:function(){var t=new s.Workbook,e=t.addWorksheet("Utrack"),a=t.addImage({base64:m.a.uTrackLogoWithBG,extension:"png"}),n=t.addImage({base64:m.a.ramkiLogo,extension:"png"});e.mergeCells("A1:B3"),e.addImage(a,"A1:B3"),e.mergeCells("G1:G3"),e.addImage(n,"G1:G3"),e.mergeCells("C1","F2");var i=e.getCell("C1");i.value="UTrack Bus Route Report",i.font={name:"Calibri",size:18,underline:"single",bold:!0,color:{argb:"0085A3"}},i.alignment={vertical:"middle",horizontal:"center"},e.mergeCells("C3","F3");var o=e.getCell("C3");o.value="Report generated on "+b.a.getDisplayTodayDateTime(),o.font={name:"Calibri",size:14,underline:"single",bold:!0,color:{argb:"0085A3"}},o.alignment={vertical:"middle",horizontal:"center"},e.addRow([]),e.addRow(["ID","Route Name","From Geofence Name","To Geofence Name","Organisation Name","Branch Name","Added Date & Time","Stops Count","Status"]).eachCell((function(t,e){t.fill={type:"pattern",pattern:"solid",fgColor:{argb:"4167B8"},bgColor:{argb:""}},t.font={bold:!0,color:{argb:"FFFFFF"},size:14},t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}));var r,c=1,u=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(u.s();!(r=u.n()).done;){var d=r.value,p=[];p.push(c.toString()),p.push(d.route_name),p.push(d.from_geofence_name),p.push(d.to_location_name),p.push(d.org_name),p.push(d.branch_name),p.push(b.a.getDisplayDateTime(d.added_date_time)),p.push(d.stops_count),p.push(d.status),e.addRow(p),c++}}catch(g){u.e(g)}finally{u.f()}e.getColumn(1).width=5,e.getColumn(2).width=20,e.getColumn(3).width=20,e.getColumn(4).width=25,e.getColumn(5).width=25,e.getColumn(6).width=25,e.getColumn(7).width=15,e.getColumn(8).width=15,e.getColumn(9).width=15,e.addRow([]),t.xlsx.writeBuffer().then((function(t){var e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});l.saveAs(e,"BusRouteReport.xlsx")}))}}]),t}()).\u0275fac=function(t){return new(t||ba)(g.Tb(u.a),g.Tb(f.b),g.Tb(i.c),g.Tb(d.a))},ba.\u0275cmp=g.Nb({type:ba,selectors:[["ngx-bus-routes"]],viewQuery:function(t,e){var a;1&t&&(g.Nc(o.a,!0),g.Nc(r.a,!0),g.Yc(Be,!0)),2&t&&(g.Dc(a=g.mc())&&(e.paginator=a.first),g.Dc(a=g.mc())&&(e.sort=a.first),g.Dc(a=g.mc())&&(e.content=a.first))},decls:57,vars:7,consts:[[1,"row","clearfix"],[1,"col-md-8","text-left"],["type","search","matInput","","id","search_element","placeholder","Search Route",1,"form-control","search-field","pull-left",3,"keyup"],[1,"btn","btn-primary","pull-left","ml-20","mr15","btn-sm",3,"click"],[1,"fa","fa-search"],["mat-button","",1,"btn","btn-danger","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-excel"],["mat-button","",1,"btn","btn-primary","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-pdf"],["nbTooltip","Refresh","nbTooltipStatus","success",1,"btn","btn-success","pull-left","mr1","btn-sm",3,"nbTooltipIcon","click"],[1,"fa","fa-sync"],[1,"col-md-4","ml-auto","text-right"],[1,"form-group"],[1,"btn","btn-warning","btn-sm",3,"click"],["id","content",1,"example-container","mat-elevation-z8"],["content",""],[1,"table-responsive",2,"height","500px","overflow","auto !important"],["mat-table","","matSort","",1,"table-bordered","table",3,"dataSource"],["matColumnDef","id"],["class","bg-primary !important ml15","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","route_name"],["class","bg-primary !important","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","cellSpace","mat-cell","",4,"matCellDef"],["matColumnDef","from_geofence_name"],["mat-cell","","class","cellSpace",4,"matCellDef"],["matColumnDef","from_location_name"],["matColumnDef","org_name"],["matColumnDef","branch_name"],["matColumnDef","added_date_time"],["matColumnDef","stops_count"],["matColumnDef","status"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","col-md-12","style","margin-top: 180px;",4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important","ml15"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important"],["mat-cell","",1,"cellSpace"],[2,"cursor","pointer","text-decoration","underline","color","blue",3,"click"],[1,"fa","fa-edit","text-blue",2,"cursor","pointer","color","blue",3,"click"],["mat-header-row",""],["mat-row",""],[1,"col-md-12",2,"margin-top","180px"],[1,"datanotfound"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Zb(2,"label"),g.Zb(3,"input",2),g.lc("keyup",(function(t){return e.applyFilter(t)})),g.Yb(),g.Yb(),g.Zb(4,"button",3),g.lc("click",(function(){return e.search()})),g.Ub(5,"i",4),g.Yb(),g.Zb(6,"button",5),g.lc("click",(function(){return e.Exportexcle()})),g.Ub(7,"i",6),g.Rc(8," \xa0 Export to Excel "),g.Yb(),g.Zb(9,"button",7),g.lc("click",(function(){return e.downloadPDF()})),g.Ub(10,"i",8),g.Rc(11," \xa0 Export to PDF "),g.Yb(),g.Zb(12,"button",9),g.lc("click",(function(){return e.refresh()})),g.Ub(13,"i",10),g.Yb(),g.Yb(),g.Zb(14,"div",11),g.Zb(15,"div",12),g.Zb(16,"button",13),g.lc("click",(function(){return e.busRoute()})),g.Zb(17,"b"),g.Rc(18,"+ Create Route"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(19,"div"),g.Zb(20,"div",14,15),g.Zb(22,"div",16),g.Zb(23,"table",17),g.Xb(24,18),g.Pc(25,Le,2,0,"th",19),g.Pc(26,ze,2,1,"td",20),g.Wb(),g.Xb(27,21),g.Pc(28,We,2,0,"th",22),g.Pc(29,Ve,3,1,"td",23),g.Wb(),g.Xb(30,24),g.Pc(31,$e,2,0,"th",22),g.Pc(32,Xe,2,1,"td",25),g.Wb(),g.Xb(33,26),g.Pc(34,He,2,0,"th",22),g.Pc(35,Ge,2,1,"td",25),g.Wb(),g.Xb(36,27),g.Pc(37,qe,2,0,"th",22),g.Pc(38,je,2,1,"td",20),g.Wb(),g.Xb(39,28),g.Pc(40,Je,2,0,"th",22),g.Pc(41,Qe,2,1,"td",20),g.Wb(),g.Xb(42,29),g.Pc(43,Ke,2,0,"th",22),g.Pc(44,ta,3,4,"td",20),g.Wb(),g.Xb(45,30),g.Pc(46,ea,2,0,"th",22),g.Pc(47,aa,2,1,"td",20),g.Wb(),g.Xb(48,31),g.Pc(49,na,2,0,"th",22),g.Pc(50,ia,2,1,"td",20),g.Wb(),g.Xb(51,32),g.Pc(52,oa,2,0,"th",22),g.Pc(53,ra,3,0,"td",20),g.Wb(),g.Pc(54,ca,1,0,"tr",33),g.Pc(55,la,1,0,"tr",34),g.Yb(),g.Pc(56,sa,3,0,"div",35),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(12),g.vc("nbTooltipIcon",g.zc(6,ua)),g.Eb(11),g.vc("dataSource",e.dataSource),g.Eb(31),g.vc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),g.Eb(1),g.vc("matRowDefColumns",e.displayedColumns),g.Eb(1),g.vc("ngIf",e.TableDataNotshow))},directives:[h.b,_.a,v.db,c.j,r.a,c.c,c.e,c.b,c.g,c.i,n.p,c.d,r.b,c.a,c.f,c.h],pipes:[n.e],styles:[".mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff!important;vertical-align:middle!important;padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{overflow-x:scroll!important}.mr15[_ngcontent-%COMP%]{margin-right:15px!important}.mr12[_ngcontent-%COMP%]{margin-left:-49px;padding:1px 1px 0}.mt50[_ngcontent-%COMP%]{margin-top:76px}.my-custom-scrollbar[_ngcontent-%COMP%]{overflow:auto}.table-wrapper-scroll-y[_ngcontent-%COMP%]{display:block}.mat-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}.mat-input-element[_ngcontent-%COMP%]{line-height:auto;padding:6px;height:auto;font-size:12px;border:1px solid #0779e4;background:#fff}.ml-20[_ngcontent-%COMP%]{margin-left:-20px!important}.btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}tr[_ngcontent-%COMP%]:hover{background-color:#b3f0ff}.datanotfound[_ngcontent-%COMP%]{font-size:25px;text-align:center;margin-top:180px;margin-bottom:180px;font-weight:700}"]}),ba),da=a("xoCY");function pa(t,e){1&t&&(g.Zb(0,"h4",25),g.Rc(1," Create Bus Timing :"),g.Yb())}function ga(t,e){1&t&&(g.Zb(0,"h4",25),g.Rc(1," Edit Bus Timing :"),g.Yb())}function fa(t,e){if(1&t){var a=g.ac();g.Zb(0,"mat-option",26),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().routeChange(t)})),g.Rc(1),g.Yb()}if(2&t){var n=e.$implicit;g.vc("value",n.bus_route_id),g.Eb(1),g.Tc(" ",n.route_name,"")}}function ha(t,e){if(1&t){var a=g.ac();g.Zb(0,"button",27),g.lc("click",(function(){return g.Ic(a),g.pc().createTimingRoute()})),g.Rc(1,"Create Timing Route"),g.Yb()}}function _a(t,e){if(1&t){var a=g.ac();g.Zb(0,"button",27),g.lc("click",(function(){return g.Ic(a),g.pc().createTimingRoute()})),g.Rc(1,"Update Timing Route"),g.Yb()}}var va,Ca=((va=function(){function t(e,a,n,i){_classCallCheck(this,t),this.uTrackService=e,this.toaster=a,this.dialogRef=n,this.currentDate=new Date,this.startDate=new Date((new Date).getTime()-864e5),this.endtDate=new Date,this.route_list=[],this.bus_route_id="",this.isCreateRoute=!0,this.trip_type="Drop",this.busTimingRouteForm=new Rt.i({bus_route_id:new Rt.f("",[Rt.A.required]),trip_start_time:new Rt.f("",[Rt.A.required]),trip_end_time:new Rt.f("",[Rt.A.required]),trip_type:new Rt.f("",[Rt.A.required])}),null!=i&&null!=i&&(this.timingRouteData=JSON.parse(i.bus_route_timing_id))}return _createClass(t,[{key:"ngOnInit",value:function(){null!=this.timingRouteData&&null!=this.timingRouteData?(this.isCreateRoute=!1,this.startDate=new Date(b.a.timeToDate(new Date)+"T"+this.timingRouteData.trip_start_time),this.endtDate=new Date(b.a.timeToDate(new Date)+"T"+this.timingRouteData.trip_end_time),this.trip_type=this.timingRouteData.trip_type,this.bus_route_id=this.timingRouteData.bus_route_id,this.bus_route_timing_id=this.timingRouteData.bus_route_timing_id,this.bus_route_list()):(this.isCreateRoute=!0,this.startDate=new Date((new Date).getTime()-864e5),this.endtDate=new Date,this.trip_type="Drop",this.bus_route_id="",this.bus_route_list())}},{key:"bus_route_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_route_list(e).subscribe((function(e){t.route_list=[],e.status&&null!=e.data&&null!=e.data&&e.data.length>0&&(t.route_list=e.data,null==t.timingRouteData&&null==t.timingRouteData&&(t.bus_route_id=t.route_list[0].bus_route_id))}))}},{key:"routeChange",value:function(t){}},{key:"createTimingRoute",value:function(){var t=this;if(this.isCreateRoute){var e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),e.append("bus_route_id",this.busTimingRouteForm.value.bus_route_id),e.append("trip_start_time",b.a.getServerTime(this.busTimingRouteForm.value.trip_start_time)),e.append("trip_end_time",b.a.getServerTime(this.busTimingRouteForm.value.trip_end_time)),e.append("trip_type",this.busTimingRouteForm.value.trip_type),this.uTrackService.bus_route_timing_create(e).subscribe((function(e){e.status?(t.toaster.success("Pragati Utrack",e.message),t.dialogRef.close()):(t.toaster.danger("Pragati Utrack",e.message),t.dialogRef.close())}))}else{var a=new FormData;a.append("user_id",localStorage.getItem("USER_ID")),a.append("bus_route_id",this.busTimingRouteForm.value.bus_route_id),a.append("trip_start_time",b.a.getServerTime(this.busTimingRouteForm.value.trip_start_time)),a.append("trip_end_time",b.a.getServerTime(this.busTimingRouteForm.value.trip_end_time)),a.append("trip_type",this.busTimingRouteForm.value.trip_type),a.append("bus_route_timing_id",this.bus_route_timing_id),this.uTrackService.bus_route_timing_edit(a).subscribe((function(e){e.status?(t.toaster.success("Pragati Utrack",e.message),t.dialogRef.close()):(t.toaster.danger("Pragati Utrack",e.message),t.dialogRef.close())}))}}}]),t}()).\u0275fac=function(t){return new(t||va)(g.Tb(d.a),g.Tb(v.cb),g.Tb(f.g),g.Tb(f.a))},va.\u0275cmp=g.Nb({type:va,selectors:[["ngx-create-bus-timing"]],decls:56,vars:16,consts:[[1,"col-md-12"],["style","color: blue;",4,"ngIf"],[1,"content"],[1,"container-fluid"],[1,"card-body"],[1,"col-md-12",3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[1,"required"],["formControlName","bus_route_id","placeholder","Select To Route",1,"form-control",3,"ngModel","ngModelChange"],[3,"value","click",4,"ngFor","ngForOf"],[1,"no-line"],["formControlName","trip_start_time","matInput","",1,"form-control","datepicker",3,"ngModel","max","matDatetimepicker","ngModelChange"],["matSuffix","",3,"for"],["type","time","openOnFocus","true","timeInterval","1"],["stateDatepicker",""],["formControlName","trip_end_time","matInput","",1,"form-control","datepicker",3,"ngModel","max","matDatetimepicker","ngModelChange"],["endDatepicker",""],["formControlName","trip_type",1,"form-control",3,"ngModel","ngModelChange"],["value","Drop"],["value","Pickup"],[1,"col-md-12","text-center"],["mat-dialog-close","false",1,"btn","btn-warning","btn-sm","mrl5"],["class","btn btn-primary btn-sm mrl5",3,"click",4,"ngIf"],[2,"color","blue"],[3,"value","click"],[1,"btn","btn-primary","btn-sm","mrl5",3,"click"]],template:function(t,e){if(1&t&&(g.Zb(0,"mat-dialog-actions"),g.Zb(1,"div",0),g.Pc(2,pa,2,0,"h4",1),g.Pc(3,ga,2,0,"h4",1),g.Ub(4,"hr"),g.Yb(),g.Ub(5,"hr"),g.Zb(6,"section",2),g.Zb(7,"div",3),g.Zb(8,"div",4),g.Zb(9,"div",5),g.Zb(10,"div",6),g.Zb(11,"div",7),g.Zb(12,"div",8),g.Zb(13,"label"),g.Rc(14," Bus Route "),g.Zb(15,"span",9),g.Rc(16,"*"),g.Yb(),g.Yb(),g.Zb(17,"mat-select",10),g.lc("ngModelChange",(function(t){return e.bus_route_id=t})),g.Pc(18,fa,2,2,"mat-option",11),g.Yb(),g.Yb(),g.Yb(),g.Zb(19,"div",7),g.Zb(20,"div",8),g.Zb(21,"label"),g.Rc(22,"Start Time "),g.Yb(),g.Ub(23,"br"),g.Zb(24,"mat-form-field",12),g.Zb(25,"input",13),g.lc("ngModelChange",(function(t){return e.startDate=t})),g.Yb(),g.Ub(26,"mat-datetimepicker-toggle",14),g.Ub(27,"mat-datetimepicker",15,16),g.Yb(),g.Yb(),g.Yb(),g.Zb(29,"div",7),g.Zb(30,"div",8),g.Zb(31,"label"),g.Rc(32,"End Time "),g.Yb(),g.Ub(33,"br"),g.Zb(34,"mat-form-field",12),g.Zb(35,"input",17),g.lc("ngModelChange",(function(t){return e.endtDate=t})),g.Yb(),g.Ub(36,"mat-datetimepicker-toggle",14),g.Ub(37,"mat-datetimepicker",15,18),g.Yb(),g.Yb(),g.Yb(),g.Zb(39,"div",7),g.Zb(40,"div",8),g.Zb(41,"label"),g.Rc(42," Trip Type "),g.Zb(43,"span",9),g.Rc(44,"*"),g.Yb(),g.Yb(),g.Zb(45,"mat-select",19),g.lc("ngModelChange",(function(t){return e.trip_type=t})),g.Zb(46,"mat-option",20),g.Rc(47,"Drop"),g.Yb(),g.Zb(48,"mat-option",21),g.Rc(49,"Pick Up"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(50,"div",22),g.Zb(51,"div",8),g.Zb(52,"button",23),g.Rc(53,"Cancel"),g.Yb(),g.Pc(54,ha,2,0,"button",24),g.Pc(55,_a,2,0,"button",24),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&t){var a=g.Ec(28),n=g.Ec(38);g.Eb(2),g.vc("ngIf",e.isCreateRoute),g.Eb(1),g.vc("ngIf",!e.isCreateRoute),g.Eb(6),g.vc("formGroup",e.busTimingRouteForm),g.Eb(8),g.vc("ngModel",e.bus_route_id),g.Eb(1),g.vc("ngForOf",e.route_list),g.Eb(7),g.vc("ngModel",e.startDate)("max",e.currentDate)("matDatetimepicker",a),g.Eb(1),g.vc("for",a),g.Eb(9),g.vc("ngModel",e.endtDate)("max",e.currentDate)("matDatetimepicker",n),g.Eb(1),g.vc("for",n),g.Eb(9),g.vc("ngModel",e.trip_type),g.Eb(9),g.vc("ngIf",e.isCreateRoute),g.Eb(1),g.vc("ngIf",!e.isCreateRoute)}},directives:[f.c,n.p,Rt.r,Rt.j,kt.a,Rt.q,Rt.h,n.o,Et.c,Rt.d,h.b,da.b,da.d,Et.g,da.a,Zt.o,f.d],styles:[".card-body[_ngcontent-%COMP%]{flex:1 1 auto;min-height:1px;padding:1.25rem}.mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.mrl5[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}  .mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:hidden;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}  .no-line1 .mat-form-field-underline,   .no-line .mat-form-field-underline{display:none}input#mat-input-1[_ngcontent-%COMP%], input#mat-input-2[_ngcontent-%COMP%]{height:36px;background-color:#fff!important;border:1px solid #ced4da}.mat-label[_ngcontent-%COMP%]{font-weight:5px}  .mat-form-field{width:100%!important}  .mat-form-field .form-control{border:1px solid #ccc;background-color:#fff;padding:13px}.required[_ngcontent-%COMP%]{color:red}label[_ngcontent-%COMP%]{font-weight:700}  .mat-form-field, label[_ngcontent-%COMP%]{color:#464646!important}  .mat-datetimepicker-content{background-color:#fff!important;border-radius:15px!important;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);overflow:hidden!important}  .mat-datetimepicker-calendar[mode=auto]   .mat-datetimepicker-calendar-header{background-color:#4d5ec1}  .mat-datetimepicker-calendar-body-cell-content.mat-datetimepicker-calendar-body-selected{background-color:#3f51b5;color:#fff}  .mat-form-field{display:inline-block;position:relative;text-align:left;margin-top:-19px}  .mat-datetimepicker-clock-hand{background-color:#3f51b5}  .mat-datetimepicker-clock[_ngcontent-c8]{position:relative;width:100%;height:0;padding-top:100%;background-color:#e0e0e0;border-radius:50%}  .mat-datetimepicker-clock-cell.mat-datetimepicker-clock-cell-selected,   .mat-datetimepicker-clock-center{background-color:#4d5ec1}  .mat-form-field-prefix,   .mat-form-field-suffix{white-space:nowrap;flex:none;position:relative;background:#007bff!important;padding:0 2px 2px 0;color:#fff;font-size:20px}"]}),va),ya=["content"];function Da(t,e){1&t&&(g.Zb(0,"th",32),g.Rc(1," ID "),g.Yb())}function Ta(t,e){if(1&t&&(g.Zb(0,"td",33),g.Rc(1),g.Yb()),2&t){var a=e.index;g.Eb(1),g.Tc(" ",a+1," ")}}function Pa(t,e){1&t&&(g.Zb(0,"th",34),g.Rc(1," Route Name "),g.Yb())}function Ya(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",35),g.Zb(1,"a",36),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().route_detail(t)})),g.Rc(2),g.Yb(),g.Yb()}if(2&t){var n=e.$implicit;g.Eb(2),g.Tc(" ",n.route_name,"")}}function Ra(t,e){1&t&&(g.Zb(0,"th",34),g.Rc(1," Trip Type "),g.Yb())}function ka(t,e){if(1&t&&(g.Zb(0,"td",35),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.trip_type," ")}}function Za(t,e){1&t&&(g.Zb(0,"th",34),g.Rc(1," Trip Start Time"),g.Yb())}function Ea(t,e){if(1&t&&(g.Zb(0,"td",35),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.trip_start_time," ")}}function xa(t,e){1&t&&(g.Zb(0,"th",34),g.Rc(1," Trip End Time "),g.Yb())}function wa(t,e){if(1&t&&(g.Zb(0,"td",33),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.trip_end_time," ")}}function Ma(t,e){1&t&&(g.Zb(0,"th",34),g.Rc(1," Edit "),g.Yb())}function Sa(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",33),g.Zb(1,"a"),g.Zb(2,"i",37),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().edit(t)})),g.Yb(),g.Yb(),g.Yb()}}function Oa(t,e){1&t&&g.Ub(0,"tr",38)}function Ia(t,e){1&t&&g.Ub(0,"tr",39)}function Na(t,e){1&t&&(g.Zb(0,"div",40),g.Zb(1,"p",41),g.Rc(2,"Data Not Found"),g.Yb(),g.Yb())}var Aa,Fa=function(){return{icon:"refresh-outline",pack:"eva"}},Ua=((Aa=function(){function t(e,a,n,i){_classCallCheck(this,t),this.headerService=e,this.uTrackService=a,this.routes=n,this.dialog=i,this.TableDataNotshow=!1,this.ELEMENT_DATA=[],this.displayedColumns=["id","route_name","trip_type","trip_start_time","trip_end_time","edit"],this.dataSource=new c.k(this.ELEMENT_DATA),this.filterValue=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.updateHeaderTitle("Timings"),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.bus_route_timing_list()}},{key:"bus_route_timing_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_route_timing_list(e).subscribe((function(e){t.ELEMENT_DATA=[],e.status&&null!=e.data&&null!=e.data&&e.data.length>0?(t.ELEMENT_DATA=e.data,t.dataSource.data=t.ELEMENT_DATA,t.TableDataNotshow=!1):t.TableDataNotshow=!0}))}},{key:"applyFilter",value:function(t){"Enter"==t.key&&(this.filterValue=t.target.value,this.filterValue=this.filterValue.trim(),this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA)}},{key:"refresh",value:function(){this.bus_route_timing_list()}},{key:"search",value:function(){this.filterValue=this.filterValue.trim(),this.filterValue=document.getElementById("search_element").value,this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA}},{key:"createBusTimig",value:function(){var t=this;this.dialog.open(Ca,{width:"50%"}).afterClosed().subscribe((function(e){t.bus_route_timing_list()}))}},{key:"edit",value:function(t){var e=this,a=JSON.stringify(t);this.dialog.open(Ca,{width:"50%",data:{bus_route_timing_id:a}}).afterClosed().subscribe((function(t){e.bus_route_timing_list()}))}},{key:"route_detail",value:function(t){this.routes.navigate(["web/bus_management/bus_timings/bus_timing_details",t.bus_route_timing_id]),localStorage.setItem("TIMING_DETAILS",JSON.stringify(t))}},{key:"downloadPDF",value:function(){var t,e="Report generated on "+b.a.getDisplayTodayDateTime(),a="UTrack Bus Report\n".concat(e),n=[],i=1,o=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(o.s();!(t=o.n()).done;){var r=t.value,c=[];c.push(i.toString()),c.push(r.route_name),c.push(r.trip_type),c.push(r.trip_start_time),c.push(r.trip_end_time),n.push(c),i++}}catch(l){o.e(l)}finally{o.f()}p.a.downloadPdf(a,["ID","Route Name","Trip Type","Trip Start Time","Trip End Time"],n,"BusTimingReport")}},{key:"Exportexcle",value:function(){var t=new s.Workbook,e=t.addWorksheet("Utrack"),a=t.addImage({base64:m.a.uTrackLogoWithBG,extension:"png"}),n=t.addImage({base64:m.a.ramkiLogo,extension:"png"});e.mergeCells("A1:B3"),e.addImage(a,"A1:B3"),e.mergeCells("G1:G3"),e.addImage(n,"G1:G3"),e.mergeCells("C1","F2");var i=e.getCell("C1");i.value="UTrack Bus Timing Report",i.font={name:"Calibri",size:18,underline:"single",bold:!0,color:{argb:"0085A3"}},i.alignment={vertical:"middle",horizontal:"center"},e.mergeCells("C3","F3");var o=e.getCell("C3");o.value="Report generated on "+b.a.getDisplayTodayDateTime(),o.font={name:"Calibri",size:14,underline:"single",bold:!0,color:{argb:"0085A3"}},o.alignment={vertical:"middle",horizontal:"center"},e.addRow([]),e.addRow(["ID","Route Name","Trip Type","Trip Start Time","Trip End Time"]).eachCell((function(t,e){t.fill={type:"pattern",pattern:"solid",fgColor:{argb:"4167B8"},bgColor:{argb:""}},t.font={bold:!0,color:{argb:"FFFFFF"},size:14},t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}));var r,c=1,u=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(u.s();!(r=u.n()).done;){var d=r.value,p=[];p.push(c.toString()),p.push(d.route_name),p.push(d.trip_type),p.push(d.trip_start_time),p.push(d.trip_end_time),e.addRow(p),c++}}catch(g){u.e(g)}finally{u.f()}e.getColumn(1).width=5,e.getColumn(2).width=20,e.getColumn(3).width=20,e.getColumn(4).width=35,e.getColumn(5).width=35,e.addRow([]),t.xlsx.writeBuffer().then((function(t){var e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});l.saveAs(e,"BusTimingReport.xlsx")}))}}]),t}()).\u0275fac=function(t){return new(t||Aa)(g.Tb(u.a),g.Tb(d.a),g.Tb(i.c),g.Tb(f.b))},Aa.\u0275cmp=g.Nb({type:Aa,selectors:[["ngx-bus-timings"]],viewQuery:function(t,e){var a;1&t&&(g.Nc(o.a,!0),g.Nc(r.a,!0),g.Yc(ya,!0)),2&t&&(g.Dc(a=g.mc())&&(e.paginator=a.first),g.Dc(a=g.mc())&&(e.sort=a.first),g.Dc(a=g.mc())&&(e.content=a.first))},decls:45,vars:7,consts:[[1,"row","clearfix"],[1,"col-md-8","text-left"],["type","search","matInput","","id","search_element","placeholder","Search Timing",1,"form-control","search-field","pull-left",3,"keyup"],[1,"btn","btn-primary","pull-left","ml-20","mr15","btn-sm",3,"click"],[1,"fa","fa-search"],["mat-button","",1,"btn","btn-danger","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-excel"],["mat-button","",1,"btn","btn-primary","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-pdf"],["nbTooltip","Refresh","nbTooltipStatus","success",1,"btn","btn-success","pull-left","mr1","btn-sm",3,"nbTooltipIcon","click"],[1,"fa","fa-sync"],[1,"col-md-4","ml-auto","text-right"],[1,"form-group"],[1,"btn","btn-warning","btn-sm",3,"click"],["id","content",1,"example-container","mat-elevation-z8"],["content",""],[1,"table-responsive",2,"height","500px","overflow","auto !important"],["mat-table","","matSort","",1,"table-bordered","table",3,"dataSource"],["matColumnDef","id"],["class","bg-primary !important ml15","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","route_name"],["class","bg-primary !important","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","cellSpace","mat-cell","",4,"matCellDef"],["matColumnDef","trip_type"],["mat-cell","","class","cellSpace",4,"matCellDef"],["matColumnDef","trip_start_time"],["matColumnDef","trip_end_time"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","col-md-12","style","margin-top: 180px;",4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important","ml15"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important"],["mat-cell","",1,"cellSpace"],[2,"cursor","pointer","text-decoration","underline","color","blue",3,"click"],[1,"fa","fa-edit","text-blue",2,"cursor","pointer","color","blue",3,"click"],["mat-header-row",""],["mat-row",""],[1,"col-md-12",2,"margin-top","180px"],[1,"datanotfound"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Zb(2,"label"),g.Zb(3,"input",2),g.lc("keyup",(function(t){return e.applyFilter(t)})),g.Yb(),g.Yb(),g.Zb(4,"button",3),g.lc("click",(function(){return e.search()})),g.Ub(5,"i",4),g.Yb(),g.Zb(6,"button",5),g.lc("click",(function(){return e.Exportexcle()})),g.Ub(7,"i",6),g.Rc(8," \xa0 Export to Excel "),g.Yb(),g.Zb(9,"button",7),g.lc("click",(function(){return e.downloadPDF()})),g.Ub(10,"i",8),g.Rc(11," \xa0 Export to PDF "),g.Yb(),g.Zb(12,"button",9),g.lc("click",(function(){return e.refresh()})),g.Ub(13,"i",10),g.Yb(),g.Yb(),g.Zb(14,"div",11),g.Zb(15,"div",12),g.Zb(16,"button",13),g.lc("click",(function(){return e.createBusTimig()})),g.Zb(17,"b"),g.Rc(18,"+ Create Bus Timing"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(19,"div"),g.Zb(20,"div",14,15),g.Zb(22,"div",16),g.Zb(23,"table",17),g.Xb(24,18),g.Pc(25,Da,2,0,"th",19),g.Pc(26,Ta,2,1,"td",20),g.Wb(),g.Xb(27,21),g.Pc(28,Pa,2,0,"th",22),g.Pc(29,Ya,3,1,"td",23),g.Wb(),g.Xb(30,24),g.Pc(31,Ra,2,0,"th",22),g.Pc(32,ka,2,1,"td",25),g.Wb(),g.Xb(33,26),g.Pc(34,Za,2,0,"th",22),g.Pc(35,Ea,2,1,"td",25),g.Wb(),g.Xb(36,27),g.Pc(37,xa,2,0,"th",22),g.Pc(38,wa,2,1,"td",20),g.Wb(),g.Xb(39,28),g.Pc(40,Ma,2,0,"th",22),g.Pc(41,Sa,3,0,"td",20),g.Wb(),g.Pc(42,Oa,1,0,"tr",29),g.Pc(43,Ia,1,0,"tr",30),g.Yb(),g.Pc(44,Na,3,0,"div",31),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(12),g.vc("nbTooltipIcon",g.zc(6,Fa)),g.Eb(11),g.vc("dataSource",e.dataSource),g.Eb(19),g.vc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),g.Eb(1),g.vc("matRowDefColumns",e.displayedColumns),g.Eb(1),g.vc("ngIf",e.TableDataNotshow))},directives:[h.b,_.a,v.db,c.j,r.a,c.c,c.e,c.b,c.g,c.i,n.p,c.d,r.b,c.a,c.f,c.h],styles:[".mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}label[_ngcontent-%COMP%]{font-size:13px;font-weight:700;margin-bottom:6px}.auto-width[_ngcontent-%COMP%]{margin:0;padding:0 0 0 16px;float:left}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff!important;vertical-align:middle!important;padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{overflow-x:scroll!important}.mr15[_ngcontent-%COMP%]{margin-right:15px!important}.mr12[_ngcontent-%COMP%]{margin-left:-49px;padding:1px 1px 0}.mt50[_ngcontent-%COMP%]{margin-top:76px}.my-custom-scrollbar[_ngcontent-%COMP%]{overflow:auto}.table-wrapper-scroll-y[_ngcontent-%COMP%]{display:block}.mat-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}.mat-input-element[_ngcontent-%COMP%]{line-height:auto;padding:6px;height:auto;font-size:12px;border:1px solid #0779e4;background:#fff}.ml-20[_ngcontent-%COMP%]{margin-left:-20px!important}.btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}tr[_ngcontent-%COMP%]:hover{background-color:#b3f0ff}.datanotfound[_ngcontent-%COMP%]{font-size:25px;text-align:center;margin-top:180px;margin-bottom:180px;font-weight:700}"]}),Aa),Ba=["content"];function La(t,e){1&t&&(g.Zb(0,"th",33),g.Rc(1," ID "),g.Yb())}function za(t,e){if(1&t&&(g.Zb(0,"td",34),g.Rc(1),g.Yb()),2&t){var a=e.index;g.Eb(1),g.Tc(" ",a+1," ")}}function Wa(t,e){1&t&&(g.Zb(0,"th",35),g.Rc(1," Vehicle Number "),g.Yb())}function Va(t,e){if(1&t&&(g.Zb(0,"td",36),g.Zb(1,"a",37),g.Rc(2),g.Yb(),g.Yb()),2&t){var a=e.$implicit;g.Eb(2),g.Tc(" ",a.vehicle_number,"")}}function $a(t,e){1&t&&(g.Zb(0,"th",35),g.Rc(1," Organisation Name "),g.Yb())}function Xa(t,e){if(1&t&&(g.Zb(0,"td",36),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.org_name," ")}}function Ha(t,e){1&t&&(g.Zb(0,"th",35),g.Rc(1," Branch Name "),g.Yb())}function Ga(t,e){if(1&t&&(g.Zb(0,"td",34),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.branch_name)}}function qa(t,e){1&t&&(g.Zb(0,"th",35),g.Rc(1," Route Name "),g.Yb())}function ja(t,e){if(1&t&&(g.Zb(0,"td",34),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.route_name)}}function Ja(t,e){1&t&&(g.Zb(0,"th",35),g.Rc(1," Trip Type "),g.Yb())}function Qa(t,e){if(1&t&&(g.Zb(0,"td",34),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.trip_type)}}function Ka(t,e){1&t&&(g.Zb(0,"th",35),g.Rc(1," Trip Start Time"),g.Yb())}function tn(t,e){if(1&t&&(g.Zb(0,"td",34),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.trip_start_time," ")}}function en(t,e){1&t&&(g.Zb(0,"th",35),g.Rc(1," Trip End Time"),g.Yb())}function an(t,e){if(1&t&&(g.Zb(0,"td",34),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.trip_end_time," ")}}function nn(t,e){1&t&&(g.Zb(0,"th",35),g.Rc(1," Edit "),g.Yb())}function on(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",34),g.Zb(1,"a"),g.Zb(2,"i",38),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().edit(t)})),g.Yb(),g.Yb(),g.Yb()}}function rn(t,e){1&t&&g.Ub(0,"tr",39)}function cn(t,e){1&t&&g.Ub(0,"tr",40)}var ln,sn=function(){return{icon:"refresh-outline",pack:"eva"}},bn=((ln=function(){function t(e,a){_classCallCheck(this,t),this.headerService=e,this.uTrackService=a,this.ELEMENT_DATA=[],this.displayedColumns=["id","vehicle_number","org_name","branch_name","route_name","trip_type","trip_start_time","trip_end_time","edit"],this.dataSource=new c.k(this.ELEMENT_DATA),this.TableDataNotshow=!1,this.filterValue=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.updateHeaderTitle("Trips"),this.bus_trip_list()}},{key:"bus_trip_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),e.append("bus_route_id","1"),e.append("bus_organisation_branch_id","2"),e.append("bus_organisation_id","1"),this.uTrackService.bus_trip_list(e).subscribe((function(e){e.status?(t.ELEMENT_DATA=[],null!=e.data&&null!=e.data&&e.data.length>0?(t.ELEMENT_DATA=e.data,t.TableDataNotshow=!1,t.dataSource.data=t.ELEMENT_DATA):t.TableDataNotshow=!0):t.TableDataNotshow=!0}))}},{key:"applyFilter",value:function(t){"Enter"==t.key&&(this.filterValue=t.target.value,this.filterValue=this.filterValue.trim(),this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA)}},{key:"refresh",value:function(){this.bus_trip_list()}},{key:"search",value:function(){this.filterValue=this.filterValue.trim(),this.filterValue=document.getElementById("search_element").value,this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA}},{key:"add",value:function(){}},{key:"edit",value:function(t){}},{key:"downloadPDF",value:function(){var t,e="Report generated on "+b.a.getDisplayTodayDateTime(),a="UTrack Bus Trip Report\n".concat(e),n=[],i=1,o=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(o.s();!(t=o.n()).done;){var r=t.value,c=[];c.push(i.toString()),c.push(r.vehicle_number),c.push(r.org_name),c.push(r.branch_name),c.push(r.route_name),c.push(r.trip_type),c.push(r.trip_start_time),c.push(r.trip_end_time),n.push(c),i++}}catch(l){o.e(l)}finally{o.f()}p.a.downloadPdf(a,["ID","Vehicle Number","Organisation Name","Branch Name","Route Name","Trip Type","Trip Start Time","Trip End Time"],n,"BusTripReport")}},{key:"Exportexcle",value:function(){var t=new s.Workbook,e=t.addWorksheet("Utrack"),a=t.addImage({base64:m.a.uTrackLogoWithBG,extension:"png"}),n=t.addImage({base64:m.a.ramkiLogo,extension:"png"});e.mergeCells("A1:B3"),e.addImage(a,"A1:B3"),e.mergeCells("G1:G3"),e.addImage(n,"G1:G3"),e.mergeCells("C1","F2");var i=e.getCell("C1");i.value="UTrack Bus Trip Report",i.font={name:"Calibri",size:18,underline:"single",bold:!0,color:{argb:"0085A3"}},i.alignment={vertical:"middle",horizontal:"center"},e.mergeCells("C3","F3");var o=e.getCell("C3");o.value="Report generated on "+b.a.getDisplayTodayDateTime(),o.font={name:"Calibri",size:14,underline:"single",bold:!0,color:{argb:"0085A3"}},o.alignment={vertical:"middle",horizontal:"center"},e.addRow([]),e.addRow(["ID","Vehicle Number","Passenger Name","Username","Mobile","Email","Organisation Name","Branch Name","Route Name","Trip Type","Trip Start Time","Trip End Time"]).eachCell((function(t,e){t.fill={type:"pattern",pattern:"solid",fgColor:{argb:"4167B8"},bgColor:{argb:""}},t.font={bold:!0,color:{argb:"FFFFFF"},size:14},t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}));var r,c=1,u=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(u.s();!(r=u.n()).done;){var d=r.value,p=[];p.push(c.toString()),p.push(d.vehicle_number),p.push(d.org_name),p.push(d.branch_name),p.push(d.route_name),p.push(d.trip_type),p.push(d.trip_start_time),p.push(d.trip_end_time),e.addRow(p),c++}}catch(g){u.e(g)}finally{u.f()}e.getColumn(1).width=5,e.getColumn(2).width=12,e.getColumn(3).width=25,e.getColumn(4).width=20,e.getColumn(5).width=25,e.getColumn(6).width=20,e.getColumn(7).width=28,e.getColumn(8).width=28,e.addRow([]),t.xlsx.writeBuffer().then((function(t){var e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});l.saveAs(e,"BusTripReport.xlsx")}))}}]),t}()).\u0275fac=function(t){return new(t||ln)(g.Tb(u.a),g.Tb(d.a))},ln.\u0275cmp=g.Nb({type:ln,selectors:[["ngx-bus-trips"]],viewQuery:function(t,e){var a;1&t&&(g.Nc(o.a,!0),g.Nc(r.a,!0),g.Yc(Ba,!0)),2&t&&(g.Dc(a=g.mc())&&(e.paginator=a.first),g.Dc(a=g.mc())&&(e.sort=a.first),g.Dc(a=g.mc())&&(e.content=a.first))},decls:53,vars:6,consts:[[1,"row","clearfix"],[1,"col-md-8","text-left"],["type","search","matInput","","id","search_element","placeholder","Search Trip",1,"form-control","search-field","pull-left",3,"keyup"],[1,"btn","btn-primary","pull-left","ml-20","mr15","btn-sm",3,"click"],[1,"fa","fa-search"],["mat-button","",1,"btn","btn-danger","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-excel"],["mat-button","",1,"btn","btn-primary","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-pdf"],["nbTooltip","Refresh","nbTooltipStatus","success",1,"btn","btn-success","pull-left","mr1","btn-sm",3,"nbTooltipIcon","click"],[1,"fa","fa-sync"],[1,"col-md-4","ml-auto","text-right"],[1,"form-group"],[1,"btn","btn-warning","btn-sm",3,"click"],["id","content",1,"example-container","mat-elevation-z8"],["content",""],[1,"table-responsive",2,"height","500px","overflow","auto !important"],["mat-table","","matSort","",1,"table-bordered","table",3,"dataSource"],["matColumnDef","id"],["class","bg-primary !important ml15","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","vehicle_number"],["class","bg-primary !important","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","cellSpace","mat-cell","",4,"matCellDef"],["matColumnDef","org_name"],["matColumnDef","branch_name"],["matColumnDef","route_name"],["matColumnDef","trip_type"],["matColumnDef","trip_start_time"],["matColumnDef","trip_end_time"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important","ml15"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important"],["mat-cell","",1,"cellSpace"],[2,"cursor","pointer","text-decoration","underline","color","blue"],[1,"fa","fa-edit","text-blue",2,"cursor","pointer","color","blue",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Zb(2,"label"),g.Zb(3,"input",2),g.lc("keyup",(function(t){return e.applyFilter(t)})),g.Yb(),g.Yb(),g.Zb(4,"button",3),g.lc("click",(function(){return e.search()})),g.Ub(5,"i",4),g.Yb(),g.Zb(6,"button",5),g.lc("click",(function(){return e.Exportexcle()})),g.Ub(7,"i",6),g.Rc(8," \xa0 Export to Excel "),g.Yb(),g.Zb(9,"button",7),g.lc("click",(function(){return e.downloadPDF()})),g.Ub(10,"i",8),g.Rc(11," \xa0 Export to PDF "),g.Yb(),g.Zb(12,"button",9),g.lc("click",(function(){return e.refresh()})),g.Ub(13,"i",10),g.Yb(),g.Yb(),g.Zb(14,"div",11),g.Zb(15,"div",12),g.Zb(16,"button",13),g.lc("click",(function(){return e.add()})),g.Zb(17,"b"),g.Rc(18,"+ Create Trip"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(19,"div"),g.Zb(20,"div",14,15),g.Zb(22,"div",16),g.Zb(23,"table",17),g.Xb(24,18),g.Pc(25,La,2,0,"th",19),g.Pc(26,za,2,1,"td",20),g.Wb(),g.Xb(27,21),g.Pc(28,Wa,2,0,"th",22),g.Pc(29,Va,3,1,"td",23),g.Wb(),g.Xb(30,24),g.Pc(31,$a,2,0,"th",22),g.Pc(32,Xa,2,1,"td",23),g.Wb(),g.Xb(33,25),g.Pc(34,Ha,2,0,"th",22),g.Pc(35,Ga,2,1,"td",20),g.Wb(),g.Xb(36,26),g.Pc(37,qa,2,0,"th",22),g.Pc(38,ja,2,1,"td",20),g.Wb(),g.Xb(39,27),g.Pc(40,Ja,2,0,"th",22),g.Pc(41,Qa,2,1,"td",20),g.Wb(),g.Xb(42,28),g.Pc(43,Ka,2,0,"th",22),g.Pc(44,tn,2,1,"td",20),g.Wb(),g.Xb(45,29),g.Pc(46,en,2,0,"th",22),g.Pc(47,an,2,1,"td",20),g.Wb(),g.Xb(48,30),g.Pc(49,nn,2,0,"th",22),g.Pc(50,on,3,0,"td",20),g.Wb(),g.Pc(51,rn,1,0,"tr",31),g.Pc(52,cn,1,0,"tr",32),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(12),g.vc("nbTooltipIcon",g.zc(5,sn)),g.Eb(11),g.vc("dataSource",e.dataSource),g.Eb(28),g.vc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),g.Eb(1),g.vc("matRowDefColumns",e.displayedColumns))},directives:[h.b,_.a,v.db,c.j,r.a,c.c,c.e,c.b,c.g,c.i,c.d,r.b,c.a,c.f,c.h],styles:[".mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff!important;vertical-align:middle!important;padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{overflow-x:scroll!important}.mr15[_ngcontent-%COMP%]{margin-right:15px!important}.mr12[_ngcontent-%COMP%]{margin-left:-49px;padding:1px 1px 0}.mt50[_ngcontent-%COMP%]{margin-top:76px}.my-custom-scrollbar[_ngcontent-%COMP%]{overflow:auto}.table-wrapper-scroll-y[_ngcontent-%COMP%]{display:block}.mat-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}.mat-input-element[_ngcontent-%COMP%]{line-height:auto;padding:6px;height:auto;font-size:12px;border:1px solid #0779e4;background:#fff}.ml-20[_ngcontent-%COMP%]{margin-left:-20px!important}.btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}tr[_ngcontent-%COMP%]:hover{background-color:#b3f0ff}.datanotfound[_ngcontent-%COMP%]{font-size:25px;text-align:center;margin-top:180px;margin-bottom:180px;font-weight:700}"]}),ln),un=["content"];function mn(t,e){1&t&&(g.Zb(0,"th",36),g.Rc(1," ID "),g.Yb())}function dn(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.index;g.Eb(1),g.Tc(" ",a+1," ")}}function pn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Name "),g.Yb())}function gn(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",39),g.Zb(1,"a",40),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().editCustomer(t.customer_id)})),g.Rc(2),g.Yb(),g.Yb()}if(2&t){var n=e.$implicit;g.Eb(2),g.Tc(" ",n.full_name,"")}}function fn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Logo Image "),g.Yb())}function hn(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.mobile," ")}}function _n(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Type "),g.Yb())}function vn(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.email," ")}}function Cn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Bus Visibility"),g.Yb())}function yn(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.company_name," ")}}function Dn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Track History Visibility "),g.Yb())}function Tn(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.gst_number," ")}}function Pn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Added By Id "),g.Yb())}function Yn(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.state," ")}}function Rn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Added Date & Time"),g.Yb())}function kn(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.qc(2,"date"),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",g.sc(2,1,a.added_date,"dd/MMM/yyyy")," ")}}function Zn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Updated Date & Time "),g.Yb())}function En(t,e){1&t&&g.Ub(0,"td",37)}function xn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Status "),g.Yb())}function wn(t,e){1&t&&g.Ub(0,"td",37)}function Mn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Edit "),g.Yb())}function Sn(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",37),g.Zb(1,"a"),g.Zb(2,"i",41),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().edit(t)})),g.Yb(),g.Yb(),g.Yb()}}function On(t,e){1&t&&g.Ub(0,"tr",42)}function In(t,e){1&t&&g.Ub(0,"tr",43)}var Nn,An=function(){return{icon:"refresh-outline",pack:"eva"}},Fn=((Nn=function(){function t(e){_classCallCheck(this,t),this.headerService=e,this.ELEMENT_DATA=[],this.displayedColumns=["id","name","logo_image","type","bus_visibility","track_history_visibility","added_by_id","added_date_time","updated_date_time","status","edit"],this.dataSource=new c.k(this.ELEMENT_DATA),this.filterValue=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.updateHeaderTitle("Buses")}},{key:"fetchDataFromApi",value:function(){}},{key:"applyFilter",value:function(t){"Enter"==t.key&&(this.filterValue=t.target.value,this.filterValue=this.filterValue.trim(),this.dataSource.filter=this.filterValue,this.fetchDataFromApi())}},{key:"refresh",value:function(){this.fetchDataFromApi()}},{key:"search",value:function(){this.filterValue=this.filterValue.trim(),this.filterValue=document.getElementById("search_element").value,this.dataSource.filter=this.filterValue,this.fetchDataFromApi()}},{key:"back",value:function(){}},{key:"add",value:function(){}},{key:"edit",value:function(t){}},{key:"editCustomer",value:function(t){}},{key:"downloadPDF",value:function(){}},{key:"Exportexcle",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Nn)(g.Tb(u.a))},Nn.\u0275cmp=g.Nb({type:Nn,selectors:[["ngx-buses"]],viewQuery:function(t,e){var a;1&t&&(g.Nc(o.a,!0),g.Nc(r.a,!0),g.Yc(un,!0)),2&t&&(g.Dc(a=g.mc())&&(e.paginator=a.first),g.Dc(a=g.mc())&&(e.sort=a.first),g.Dc(a=g.mc())&&(e.content=a.first))},decls:59,vars:6,consts:[[1,"row","clearfix"],[1,"col-md-8","text-left"],["type","search","matInput","","id","search_element","placeholder","Search Organisation",1,"form-control","search-field","pull-left",3,"keyup"],[1,"btn","btn-primary","pull-left","ml-20","mr15","btn-sm",3,"click"],[1,"fa","fa-search"],["mat-button","",1,"btn","btn-danger","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-excel"],["mat-button","",1,"btn","btn-primary","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-pdf"],["nbTooltip","Refresh","nbTooltipStatus","success",1,"btn","btn-success","pull-left","mr1","btn-sm",3,"nbTooltipIcon","click"],[1,"fa","fa-sync"],[1,"col-md-4","ml-auto","text-right"],[1,"form-group"],[1,"btn","btn-warning","btn-sm",3,"click"],["id","content",1,"example-container","mat-elevation-z8"],["content",""],[1,"table-responsive",2,"height","500px","overflow","auto !important"],["mat-table","","matSort","",1,"table-bordered","table",3,"dataSource"],["matColumnDef","id"],["class","bg-primary !important ml15","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["class","bg-primary !important","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","cellSpace","mat-cell","",4,"matCellDef"],["matColumnDef","logo_image"],["matColumnDef","type"],["mat-cell","","class","cellSpace",4,"matCellDef"],["matColumnDef","bus_visibility"],["matColumnDef","track_history_visibility"],["matColumnDef","added_by_id"],["matColumnDef","added_date_time"],["matColumnDef","updated_date_time"],["matColumnDef","status"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important","ml15"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important"],["mat-cell","",1,"cellSpace"],[2,"cursor","pointer","text-decoration","underline","color","blue",3,"click"],[1,"fa","fa-edit","text-blue",2,"cursor","pointer","color","blue",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Zb(2,"label"),g.Zb(3,"input",2),g.lc("keyup",(function(t){return e.applyFilter(t)})),g.Yb(),g.Yb(),g.Zb(4,"button",3),g.lc("click",(function(){return e.search()})),g.Ub(5,"i",4),g.Yb(),g.Zb(6,"button",5),g.lc("click",(function(){return e.Exportexcle()})),g.Ub(7,"i",6),g.Rc(8," \xa0 Export to Excel "),g.Yb(),g.Zb(9,"button",7),g.lc("click",(function(){return e.downloadPDF()})),g.Ub(10,"i",8),g.Rc(11," \xa0 Export to PDF "),g.Yb(),g.Zb(12,"button",9),g.lc("click",(function(){return e.refresh()})),g.Ub(13,"i",10),g.Yb(),g.Yb(),g.Zb(14,"div",11),g.Zb(15,"div",12),g.Zb(16,"button",13),g.lc("click",(function(){return e.add()})),g.Zb(17,"b"),g.Rc(18,"+ Create Organisation"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(19,"div"),g.Zb(20,"div",14,15),g.Zb(22,"div",16),g.Zb(23,"table",17),g.Xb(24,18),g.Pc(25,mn,2,0,"th",19),g.Pc(26,dn,2,1,"td",20),g.Wb(),g.Xb(27,21),g.Pc(28,pn,2,0,"th",22),g.Pc(29,gn,3,1,"td",23),g.Wb(),g.Xb(30,24),g.Pc(31,fn,2,0,"th",22),g.Pc(32,hn,2,1,"td",23),g.Wb(),g.Xb(33,25),g.Pc(34,_n,2,0,"th",22),g.Pc(35,vn,2,1,"td",26),g.Wb(),g.Xb(36,27),g.Pc(37,Cn,2,0,"th",22),g.Pc(38,yn,2,1,"td",26),g.Wb(),g.Xb(39,28),g.Pc(40,Dn,2,0,"th",22),g.Pc(41,Tn,2,1,"td",20),g.Wb(),g.Xb(42,29),g.Pc(43,Pn,2,0,"th",22),g.Pc(44,Yn,2,1,"td",20),g.Wb(),g.Xb(45,30),g.Pc(46,Rn,2,0,"th",22),g.Pc(47,kn,3,4,"td",20),g.Wb(),g.Xb(48,31),g.Pc(49,Zn,2,0,"th",22),g.Pc(50,En,1,0,"td",20),g.Wb(),g.Xb(51,32),g.Pc(52,xn,2,0,"th",22),g.Pc(53,wn,1,0,"td",20),g.Wb(),g.Xb(54,33),g.Pc(55,Mn,2,0,"th",22),g.Pc(56,Sn,3,0,"td",20),g.Wb(),g.Pc(57,On,1,0,"tr",34),g.Pc(58,In,1,0,"tr",35),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(12),g.vc("nbTooltipIcon",g.zc(5,An)),g.Eb(11),g.vc("dataSource",e.dataSource),g.Eb(34),g.vc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),g.Eb(1),g.vc("matRowDefColumns",e.displayedColumns))},directives:[h.b,_.a,v.db,c.j,r.a,c.c,c.e,c.b,c.g,c.i,c.d,r.b,c.a,c.f,c.h],pipes:[n.e],styles:[".mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff!important;vertical-align:middle!important;padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{overflow-x:scroll!important}.mr15[_ngcontent-%COMP%]{margin-right:15px!important}.mr12[_ngcontent-%COMP%]{margin-left:-49px;padding:1px 1px 0}.mt50[_ngcontent-%COMP%]{margin-top:76px}.my-custom-scrollbar[_ngcontent-%COMP%]{overflow:auto}.table-wrapper-scroll-y[_ngcontent-%COMP%]{display:block}.mat-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}.mat-input-element[_ngcontent-%COMP%]{line-height:auto;padding:6px;height:auto;font-size:12px;border:1px solid #0779e4;background:#fff}.ml-20[_ngcontent-%COMP%]{margin-left:-20px!important}.btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}tr[_ngcontent-%COMP%]:hover{background-color:#b3f0ff}.datanotfound[_ngcontent-%COMP%]{font-size:25px;text-align:center;margin-top:180px;margin-bottom:180px;font-weight:700}"]}),Nn),Un=["content"];function Bn(t,e){1&t&&(g.Zb(0,"th",36),g.Rc(1," ID "),g.Yb())}function Ln(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.index;g.Eb(1),g.Tc(" ",a+1," ")}}function zn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Profile Image "),g.Yb())}function Wn(t,e){if(1&t&&(g.Zb(0,"td",37),g.Ub(1,"img",39),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.wc("src",a.profile_image,g.Kc)}}function Vn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Full Name "),g.Yb())}function $n(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",40),g.Zb(1,"a",41),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().edit(t)})),g.Rc(2),g.Yb(),g.Yb()}if(2&t){var n=e.$implicit;g.Eb(2),g.Uc(" ",n.first_name," ",n.last_name,"")}}function Xn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Mobile "),g.Yb())}function Hn(t,e){if(1&t&&(g.Zb(0,"td",40),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.mobile," ")}}function Gn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Email "),g.Yb())}function qn(t,e){if(1&t&&(g.Zb(0,"td",40),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.email," ")}}function jn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Organisation Role"),g.Yb())}function Jn(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.bus_organisation_role)}}function Qn(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Organisation Name"),g.Yb())}function Kn(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.org_name)}}function ti(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Branch Name"),g.Yb())}function ei(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.branch_name)}}function ai(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Status "),g.Yb())}function ni(t,e){1&t&&g.Ub(0,"td",37)}function ii(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Edit "),g.Yb())}function oi(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",37),g.Zb(1,"a"),g.Zb(2,"i",42),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().edit(t)})),g.Yb(),g.Yb(),g.Yb()}}function ri(t,e){1&t&&g.Ub(0,"tr",43)}function ci(t,e){1&t&&g.Ub(0,"tr",44)}function li(t,e){1&t&&(g.Zb(0,"div",45),g.Zb(1,"p",46),g.Rc(2,"Data Not Found"),g.Yb(),g.Yb())}var si,bi=function(){return{icon:"refresh-outline",pack:"eva"}},ui=((si=function(){function t(e,a,n){_classCallCheck(this,t),this.headerService=e,this.uTrackService=a,this.routes=n,this.ELEMENT_DATA=[],this.displayedColumns=["id","profile_image","full_name","mobile","email","bus_organisation_role","org_name","branch_name","status","edit"],this.dataSource=new c.k(this.ELEMENT_DATA),this.TableDataNotshow=!1,this.filterValue=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.headerService.updateHeaderTitle("Employees"),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.bus_staff_list()}},{key:"bus_staff_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_staff_list(e).subscribe((function(e){t.ELEMENT_DATA=[],e.status&&null!=e.data&&null!=e.data&&e.data.length>0?(t.ELEMENT_DATA=e.data,t.dataSource.data=t.ELEMENT_DATA,t.TableDataNotshow=!1):t.TableDataNotshow=!0}))}},{key:"applyFilter",value:function(t){"Enter"==t.key&&(this.filterValue=t.target.value,this.filterValue=this.filterValue.trim(),this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA)}},{key:"refresh",value:function(){this.bus_staff_list()}},{key:"search",value:function(){this.filterValue=this.filterValue.trim(),this.filterValue=document.getElementById("search_element").value,this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA}},{key:"createEmployee",value:function(){this.routes.navigate(["web/bus_management/employees/create_employee"])}},{key:"edit",value:function(t){}},{key:"downloadPDF",value:function(){var t,e="Report generated on "+b.a.getDisplayTodayDateTime(),a="UTrack Bus Employees Report\n".concat(e),n=[],i=1,o=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(o.s();!(t=o.n()).done;){var r=t.value,c=[];c.push(i.toString()),c.push(r.first_name+""+r.last_name),c.push(r.mobile),c.push(r.email),c.push(r.bus_organisation_role),c.push(r.org_name),c.push(r.branch_name),c.push(r.status),n.push(c),i++}}catch(l){o.e(l)}finally{o.f()}p.a.downloadPdf(a,["ID","Full Name","Mobile","Email","Organisation Role","Organisation Name","Branch Name","Status"],n,"EmployeesList")}},{key:"Exportexcle",value:function(){var t=new s.Workbook,e=t.addWorksheet("Utrack"),a=t.addImage({base64:m.a.uTrackLogoWithBG,extension:"png"}),n=t.addImage({base64:m.a.ramkiLogo,extension:"png"});e.mergeCells("A1:B3"),e.addImage(a,"A1:B3"),e.mergeCells("G1:G3"),e.addImage(n,"G1:G3"),e.mergeCells("C1","F2");var i=e.getCell("C1");i.value="UTrack Bus Employees Report",i.font={name:"Calibri",size:18,underline:"single",bold:!0,color:{argb:"0085A3"}},i.alignment={vertical:"middle",horizontal:"center"},e.mergeCells("C3","F3");var o=e.getCell("C3");o.value="Report generated on "+b.a.getDisplayTodayDateTime(),o.font={name:"Calibri",size:14,underline:"single",bold:!0,color:{argb:"0085A3"}},o.alignment={vertical:"middle",horizontal:"center"},e.addRow([]),e.addRow(["ID","Full Name","Mobile","Email","Organisation Role","Organisation Name","Branch Name","Status"]).eachCell((function(t,e){t.fill={type:"pattern",pattern:"solid",fgColor:{argb:"4167B8"},bgColor:{argb:""}},t.font={bold:!0,color:{argb:"FFFFFF"},size:14},t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}));var r,c=1,u=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(u.s();!(r=u.n()).done;){var d=r.value,p=[];p.push(c.toString()),p.push(d.first_name+""+d.last_name),p.push(d.mobile),p.push(d.email),p.push(d.bus_organisation_role),p.push(d.org_name),p.push(d.branch_name),p.push(d.status),e.addRow(p),c++}}catch(g){u.e(g)}finally{u.f()}e.getColumn(1).width=5,e.getColumn(2).width=40,e.getColumn(3).width=15,e.getColumn(4).width=25,e.getColumn(5).width=25,e.getColumn(6).width=35,e.getColumn(7).width=35,e.getColumn(8).width=15,e.addRow([]),t.xlsx.writeBuffer().then((function(t){var e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});l.saveAs(e,"EmployeesList.xlsx")}))}}]),t}()).\u0275fac=function(t){return new(t||si)(g.Tb(u.a),g.Tb(d.a),g.Tb(i.c))},si.\u0275cmp=g.Nb({type:si,selectors:[["ngx-employees"]],viewQuery:function(t,e){var a;1&t&&(g.Nc(o.a,!0),g.Nc(r.a,!0),g.Yc(Un,!0)),2&t&&(g.Dc(a=g.mc())&&(e.paginator=a.first),g.Dc(a=g.mc())&&(e.sort=a.first),g.Dc(a=g.mc())&&(e.content=a.first))},decls:57,vars:7,consts:[[1,"row","clearfix"],[1,"col-md-8","text-left"],["type","search","matInput","","id","search_element","placeholder","Search Employee",1,"form-control","search-field","pull-left",3,"keyup"],[1,"btn","btn-primary","pull-left","ml-20","mr15","btn-sm",3,"click"],[1,"fa","fa-search"],["mat-button","",1,"btn","btn-danger","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-excel"],["mat-button","",1,"btn","btn-primary","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-pdf"],["nbTooltip","Refresh","nbTooltipStatus","success",1,"btn","btn-success","pull-left","mr1","btn-sm",3,"nbTooltipIcon","click"],[1,"fa","fa-sync"],[1,"col-md-4","ml-auto","text-right"],[1,"form-group"],[1,"btn","btn-warning","btn-sm",3,"click"],["id","content",1,"example-container","mat-elevation-z8"],["content",""],[1,"table-responsive",2,"height","500px","overflow","auto !important"],["mat-table","","matSort","",1,"table-bordered","table",3,"dataSource"],["matColumnDef","id"],["class","bg-primary !important ml15","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","profile_image"],["class","bg-primary !important","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","full_name"],["class","cellSpace","mat-cell","",4,"matCellDef"],["matColumnDef","mobile"],["matColumnDef","email"],["mat-cell","","class","cellSpace",4,"matCellDef"],["matColumnDef","bus_organisation_role"],["matColumnDef","org_name"],["matColumnDef","branch_name"],["matColumnDef","status"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","col-md-12","style","margin-top: 180px;",4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important","ml15"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important"],[1,"img-circle",3,"src"],["mat-cell","",1,"cellSpace"],[2,"cursor","pointer","text-decoration","underline","color","blue",3,"click"],[1,"fa","fa-edit","text-blue",2,"cursor","pointer","color","blue",3,"click"],["mat-header-row",""],["mat-row",""],[1,"col-md-12",2,"margin-top","180px"],[1,"datanotfound"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Zb(2,"label"),g.Zb(3,"input",2),g.lc("keyup",(function(t){return e.applyFilter(t)})),g.Yb(),g.Yb(),g.Zb(4,"button",3),g.lc("click",(function(){return e.search()})),g.Ub(5,"i",4),g.Yb(),g.Zb(6,"button",5),g.lc("click",(function(){return e.Exportexcle()})),g.Ub(7,"i",6),g.Rc(8," \xa0 Export to Excel "),g.Yb(),g.Zb(9,"button",7),g.lc("click",(function(){return e.downloadPDF()})),g.Ub(10,"i",8),g.Rc(11," \xa0 Export to PDF "),g.Yb(),g.Zb(12,"button",9),g.lc("click",(function(){return e.refresh()})),g.Ub(13,"i",10),g.Yb(),g.Yb(),g.Zb(14,"div",11),g.Zb(15,"div",12),g.Zb(16,"button",13),g.lc("click",(function(){return e.createEmployee()})),g.Zb(17,"b"),g.Rc(18,"+ Create Employee"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(19,"div"),g.Zb(20,"div",14,15),g.Zb(22,"div",16),g.Zb(23,"table",17),g.Xb(24,18),g.Pc(25,Bn,2,0,"th",19),g.Pc(26,Ln,2,1,"td",20),g.Wb(),g.Xb(27,21),g.Pc(28,zn,2,0,"th",22),g.Pc(29,Wn,2,1,"td",20),g.Wb(),g.Xb(30,23),g.Pc(31,Vn,2,0,"th",22),g.Pc(32,$n,3,2,"td",24),g.Wb(),g.Xb(33,25),g.Pc(34,Xn,2,0,"th",22),g.Pc(35,Hn,2,1,"td",24),g.Wb(),g.Xb(36,26),g.Pc(37,Gn,2,0,"th",22),g.Pc(38,qn,2,1,"td",27),g.Wb(),g.Xb(39,28),g.Pc(40,jn,2,0,"th",22),g.Pc(41,Jn,2,1,"td",20),g.Wb(),g.Xb(42,29),g.Pc(43,Qn,2,0,"th",22),g.Pc(44,Kn,2,1,"td",20),g.Wb(),g.Xb(45,30),g.Pc(46,ti,2,0,"th",22),g.Pc(47,ei,2,1,"td",20),g.Wb(),g.Xb(48,31),g.Pc(49,ai,2,0,"th",22),g.Pc(50,ni,1,0,"td",20),g.Wb(),g.Xb(51,32),g.Pc(52,ii,2,0,"th",22),g.Pc(53,oi,3,0,"td",20),g.Wb(),g.Pc(54,ri,1,0,"tr",33),g.Pc(55,ci,1,0,"tr",34),g.Yb(),g.Pc(56,li,3,0,"div",35),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(12),g.vc("nbTooltipIcon",g.zc(6,bi)),g.Eb(11),g.vc("dataSource",e.dataSource),g.Eb(31),g.vc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),g.Eb(1),g.vc("matRowDefColumns",e.displayedColumns),g.Eb(1),g.vc("ngIf",e.TableDataNotshow))},directives:[h.b,_.a,v.db,c.j,r.a,c.c,c.e,c.b,c.g,c.i,n.p,c.d,r.b,c.a,c.f,c.h],styles:[".mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff!important;vertical-align:middle!important;padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{overflow-x:scroll!important}.mr15[_ngcontent-%COMP%]{margin-right:15px!important}.mr12[_ngcontent-%COMP%]{margin-left:-49px;padding:1px 1px 0}.mt50[_ngcontent-%COMP%]{margin-top:76px}.my-custom-scrollbar[_ngcontent-%COMP%]{overflow:auto}.table-wrapper-scroll-y[_ngcontent-%COMP%]{display:block}.mat-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}.mat-input-element[_ngcontent-%COMP%]{line-height:auto;padding:6px;height:auto;font-size:12px;border:1px solid #0779e4;background:#fff}.ml-20[_ngcontent-%COMP%]{margin-left:-20px!important}.btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}tr[_ngcontent-%COMP%]:hover{background-color:#b3f0ff}.img-circle[_ngcontent-%COMP%]{border-radius:50%!important;overflow:hidden;width:65px;height:65px;border:2px solid #1654c0;margin:0 auto 20px}.datanotfound[_ngcontent-%COMP%]{font-size:25px;text-align:center;margin-top:180px;margin-bottom:180px;font-weight:700}"]}),si),mi=a("1kSV"),di=a("rIor");function pi(t,e){1&t&&(g.Zb(0,"h4",35),g.Rc(1," Create Organisation :"),g.Yb())}function gi(t,e){1&t&&(g.Zb(0,"h4",35),g.Rc(1," Edit Organisation :"),g.Yb())}function fi(t,e){1&t&&(g.Zb(0,"span"),g.Rc(1," Enter Organisation Name "),g.Yb())}function hi(t,e){1&t&&(g.Zb(0,"span"),g.Rc(1," Enter Minimum 3 Letters "),g.Yb())}function _i(t,e){if(1&t&&(g.Zb(0,"mat-error"),g.Pc(1,fi,2,0,"span",12),g.Pc(2,hi,2,0,"span",12),g.Yb()),2&t){var a=g.pc();g.Eb(1),g.vc("ngIf",a.organisationForm.controls.org_name.errors.required),g.Eb(1),g.vc("ngIf",a.organisationForm.controls.org_name.errors.minlength)}}function vi(t,e){if(1&t){var a=g.ac();g.Zb(0,"button",36),g.lc("click",(function(){return g.Ic(a),g.pc().createOrg()})),g.Rc(1,"Create Organisation"),g.Yb()}}function Ci(t,e){if(1&t){var a=g.ac();g.Zb(0,"button",36),g.lc("click",(function(){return g.Ic(a),g.pc().createOrg()})),g.Rc(1,"Update Organisation"),g.Yb()}}function yi(t,e){if(1&t){var a=g.ac();g.Zb(0,"div",37),g.Zb(1,"div",38),g.Zb(2,"p",39),g.Zb(3,"b"),g.Rc(4," Crop Image"),g.Yb(),g.Yb(),g.Zb(5,"button",40),g.lc("click",(function(){return e.$implicit.dismiss("Cross click")})),g.Rc(6,"\xd7"),g.Yb(),g.Yb(),g.Zb(7,"div",41),g.Zb(8,"div",7),g.Zb(9,"div",42),g.Zb(10,"h4",43),g.Zb(11,"b"),g.Rc(12," Crop Image"),g.Yb(),g.Yb(),g.Zb(13,"div",44),g.Zb(14,"image-cropper",45),g.lc("imageCropped",(function(t){return g.Ic(a),g.pc().imageCropped(t)})),g.Yb(),g.Yb(),g.Yb(),g.Zb(15,"div",46),g.Zb(16,"h4",47),g.Zb(17,"b"),g.Rc(18," Preview Image"),g.Yb(),g.Yb(),g.Ub(19,"img",48),g.Yb(),g.Yb(),g.Yb(),g.Zb(20,"div",49),g.Zb(21,"button",50),g.lc("click",(function(){return e.$implicit.dismiss("Cross click")})),g.Rc(22,"Cancel"),g.Yb(),g.Zb(23,"button",51),g.lc("click",(function(){return g.Ic(a),g.pc().croperimage()})),g.Rc(24,"Update"),g.Yb(),g.Yb(),g.Yb()}if(2&t){var n=g.pc();g.Eb(14),g.vc("imageChangedEvent",n.imageChangedEvent)("maintainAspectRatio",!1)("aspectRatio",1),g.Eb(5),g.vc("src",n.croppedImage,g.Kc)}}var Di,Ti=((Di=function(){function t(e,a,n,i,o){_classCallCheck(this,t),this.uTrackService=a,this.modalService=n,this.toasterService=i,this.dialogRef=o,this.orgType="School",this.busVisibility="Only_Assigned",this.trackHistVisibility="All_Time",this.statusType="Active",this.isCreateOrganisation=!0,this.imageChangedEvent="",this.croppedImage="",this.org_logo_image="assets/Default_Document.png",this.organisationForm=new Rt.i({org_name:new Rt.f("",[Rt.A.required,Rt.A.minLength(3)]),org_type:new Rt.f("",[Rt.A.required]),bus_visibility:new Rt.f("",[Rt.A.required]),trh_visibility:new Rt.f("",[Rt.A.required]),status:new Rt.f("",[Rt.A.required]),fileData:new Rt.f("",[Rt.A.required])}),null!=e&&(this.organisationData=JSON.parse(e.bus_organisation_id))}return _createClass(t,[{key:"ngOnInit",value:function(){null!=this.organisationData&&null!=this.organisationData?(this.isCreateOrganisation=!1,this.bus_organisation_id=this.organisationData.bus_organisation_id,this.orgName=this.organisationData.org_name,this.orgType=this.organisationData.org_type,this.busVisibility=this.organisationData.bus_visibility,this.trackHistVisibility=this.organisationData.track_history_visibility,this.statusType=this.organisationData.status,this.org_logo_image=this.organisationData.logo_image):(this.isCreateOrganisation=!0,this.orgName="",this.orgType="School",this.busVisibility="Only_Assigned",this.trackHistVisibility="All_Time",this.statusType="Active",this.org_logo_image="assets/Default_Document.png")}},{key:"uploadServiceImage",value:function(t,e){this.modalService.open(e),this.imageChangedEvent=t}},{key:"imageCropped",value:function(t){return this.croppedImage=t.base64,this.org_logo_Image_file=this.Userbase64ToFile(t.base64,this.imageChangedEvent.target.files[0].name),this.org_logo_Image_file}},{key:"Userbase64ToFile",value:function(t,e){for(var a=t.split(","),n=a[0].match(/:(.*?);/)[1],i=atob(a[1]),o=i.length,r=new Uint8Array(o);o--;)r[o]=i.charCodeAt(o);return new File([r],e,{type:n})}},{key:"croperimage",value:function(){this.org_logo_image=this.croppedImage,this.modalService.dismissAll("Closed")}},{key:"createOrg",value:function(){var t=this,e=this.organisationForm.value.org_name,a=this.organisationForm.value.org_type,n=this.organisationForm.value.bus_visibility,i=this.organisationForm.value.trh_visibility,o=this.organisationForm.value.status;if(null!=e&&null!=e&&""!=e&&null!=a&&null!=a&&""!=a&&null!=n&&null!=n&&""!=n&&null!=i&&null!=i&&""!=i&&null!=o&&null!=o&&""!=o)if(this.isCreateOrganisation){var r=new FormData;r.append("user_id",localStorage.getItem("USER_ID")),r.append("device_token","Web"),r.append("user_type",localStorage.getItem("USER_TYPE")),r.append("org_name",e),r.append("org_type",a),r.append("bus_visibility",n),r.append("track_history_visibility",i),r.append("status",o),null!=this.org_logo_Image_file&&null!=this.org_logo_Image_file&&r.append("logo_image",this.org_logo_Image_file,this.org_logo_Image_file.name),this.uTrackService.bus_organisation_create(r).subscribe((function(e){e.status?(t.toasterService.success("Pragati Utrack",e.message),t.dialogRef.close()):(t.toasterService.danger("Pragati Utrack",e.message),t.dialogRef.close())}))}else{var c=new FormData;c.append("user_id",localStorage.getItem("USER_ID")),c.append("device_token","Web"),c.append("user_type",localStorage.getItem("USER_TYPE")),c.append("org_name",e),c.append("org_type",a),c.append("bus_visibility",n),c.append("track_history_visibility",i),c.append("status",o),c.append("bus_organisation_id",this.bus_organisation_id),null!=this.org_logo_Image_file&&null!=this.org_logo_Image_file&&c.append("logo_image",this.org_logo_Image_file,this.org_logo_Image_file.name),this.uTrackService.bus_organisation_update(c).subscribe((function(e){e.status?(t.toasterService.success("Pragati Utrack",e.message),t.dialogRef.close()):(t.toasterService.danger("Pragati Utrack",e.message),t.dialogRef.close())}))}else this.toasterService.danger("Pragati Utrack","Please Fill All Mandatory Fields")}}]),t}()).\u0275fac=function(t){return new(t||Di)(g.Tb(f.a),g.Tb(d.a),g.Tb(mi.a),g.Tb(v.cb),g.Tb(f.g))},Di.\u0275cmp=g.Nb({type:Di,selectors:[["ngx-create-organisation"]],decls:85,vars:12,consts:[[1,"col-md-12"],["mat-dialog-close","false","nbTooltip","Close","nbTooltipStatus","info",1,"fa","fa-times-circle",2,"font-size","30px","right","338px","position","fixed","top","30px"],["style","color: blue;",4,"ngIf"],[1,"content"],[1,"container-fluid"],[1,"card-body"],[1,"col-md-12",3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[1,"required"],["type","text","formControlName","org_name","onkeypress","return /[a-z]/i.test(event.key)","maxlength","30","placeholder","Enter Organisation Name",1,"form-control",2,"text-transform","capitalize",3,"ngModel","ngModelChange"],[4,"ngIf"],["formControlName","org_type",1,"form-control",3,"ngModel","ngModelChange"],["value","School"],["value","College"],["value","Company"],["value","Other"],["formControlName","bus_visibility",1,"form-control",3,"ngModel","ngModelChange"],["value","Only_Assigned"],["value","All"],["formControlName","trh_visibility",1,"form-control",3,"ngModel","ngModelChange"],["value","All_Time"],["value","Specific_Time"],["formControlName","status",1,"form-control",3,"ngModel","ngModelChange"],["value","Active"],["value","Inactive"],["formControlName","fileData","accept","image/*","type","file","id","myfile","name","myfile",1,"btn",3,"change"],[1,"image-preview","mb-3","ng-star-inserted",2,"margin-top","10px"],["height","105","width","105",3,"src"],[1,"col-md-12","text-center"],["mat-dialog-close","false",1,"btn","btn-warning","btn-sm","mrl5"],["class","btn btn-primary btn-sm mrl5",3,"click",4,"ngIf"],[1,"container"],["cropperModal",""],[2,"color","blue"],[1,"btn","btn-primary","btn-sm","mrl5",3,"click"],[1,"modal-content","model-resize"],[1,"modal-header"],[2,"font-size","24px"],["type","button","x","",3,"click"],[1,"modal-body"],[1,"text-center","col-md-8"],[2,"margin-left","-44px"],[2,"height","236px","width","466px"],["format","png",1,"imgcrop",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped"],[1,"text-center","col-md-4"],[2,"margin-left","-50px"],["height","180","width","200",2,"margin-left","-44px",3,"src"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){if(1&t){var a=g.ac();g.Zb(0,"div",0),g.Ub(1,"i",1),g.Yb(),g.Zb(2,"mat-dialog-actions"),g.Pc(3,pi,2,0,"h4",2),g.Pc(4,gi,2,0,"h4",2),g.Ub(5,"hr"),g.Zb(6,"section",3),g.Zb(7,"div",4),g.Zb(8,"div",5),g.Zb(9,"div",6),g.Zb(10,"div",7),g.Zb(11,"div",8),g.Zb(12,"div",9),g.Zb(13,"label"),g.Rc(14," Organisation Name "),g.Zb(15,"span",10),g.Rc(16,"*"),g.Yb(),g.Yb(),g.Zb(17,"input",11),g.lc("ngModelChange",(function(t){return e.orgName=t})),g.Yb(),g.Pc(18,_i,3,2,"mat-error",12),g.Yb(),g.Yb(),g.Zb(19,"div",8),g.Zb(20,"div",9),g.Zb(21,"label"),g.Rc(22,"Organisation Type "),g.Zb(23,"span",10),g.Rc(24,"*"),g.Yb(),g.Yb(),g.Zb(25,"mat-select",13),g.lc("ngModelChange",(function(t){return e.orgType=t})),g.Zb(26,"mat-option",14),g.Rc(27,"School"),g.Yb(),g.Zb(28,"mat-option",15),g.Rc(29,"College"),g.Yb(),g.Zb(30,"mat-option",16),g.Rc(31,"Company"),g.Yb(),g.Zb(32,"mat-option",17),g.Rc(33,"Other"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(34,"div",8),g.Zb(35,"div",9),g.Zb(36,"label"),g.Rc(37," Bus Visibility "),g.Zb(38,"span",10),g.Rc(39,"*"),g.Yb(),g.Yb(),g.Zb(40,"mat-select",18),g.lc("ngModelChange",(function(t){return e.busVisibility=t})),g.Zb(41,"mat-option",19),g.Rc(42,"Only Assigned"),g.Yb(),g.Zb(43,"mat-option",20),g.Rc(44,"All"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(45,"div",8),g.Zb(46,"div",9),g.Zb(47,"label"),g.Rc(48," Track History Visibility "),g.Zb(49,"span",10),g.Rc(50,"*"),g.Yb(),g.Yb(),g.Zb(51,"mat-select",21),g.lc("ngModelChange",(function(t){return e.trackHistVisibility=t})),g.Zb(52,"mat-option",22),g.Rc(53,"All Time"),g.Yb(),g.Zb(54,"mat-option",23),g.Rc(55,"Specific Time"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(56,"div",8),g.Zb(57,"div",9),g.Zb(58,"label"),g.Rc(59,"Status "),g.Zb(60,"span",10),g.Rc(61,"*"),g.Yb(),g.Yb(),g.Zb(62,"mat-select",24),g.lc("ngModelChange",(function(t){return e.statusType=t})),g.Zb(63,"mat-option",25),g.Rc(64,"Active"),g.Yb(),g.Zb(65,"mat-option",26),g.Rc(66,"Inactive"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(67,"div",0),g.Zb(68,"div",9),g.Zb(69,"label"),g.Rc(70,"Logo "),g.Zb(71,"span",10),g.Rc(72,"*"),g.Yb(),g.Yb(),g.Zb(73,"input",27),g.lc("change",(function(t){g.Ic(a);var n=g.Ec(84);return e.uploadServiceImage(t,n)})),g.Yb(),g.Zb(74,"div",28),g.Ub(75,"img",29),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(76,"div",30),g.Zb(77,"div",9),g.Zb(78,"button",31),g.Rc(79,"Cancel"),g.Yb(),g.Pc(80,vi,2,0,"button",32),g.Pc(81,Ci,2,0,"button",32),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(82,"div",33),g.Pc(83,yi,25,4,"ng-template",null,34,g.Qc),g.Yb(),g.Yb()}2&t&&(g.Eb(3),g.vc("ngIf",e.isCreateOrganisation),g.Eb(1),g.vc("ngIf",!e.isCreateOrganisation),g.Eb(5),g.vc("formGroup",e.organisationForm),g.Eb(8),g.vc("ngModel",e.orgName),g.Eb(1),g.vc("ngIf",e.organisationForm.controls.org_name.errors&&e.organisationForm.controls.org_name.touched),g.Eb(7),g.vc("ngModel",e.orgType),g.Eb(15),g.vc("ngModel",e.busVisibility),g.Eb(11),g.vc("ngModel",e.trackHistVisibility),g.Eb(11),g.vc("ngModel",e.statusType),g.Eb(13),g.wc("src",e.org_logo_image,g.Kc),g.Eb(5),g.vc("ngIf",e.isCreateOrganisation),g.Eb(1),g.vc("ngIf",!e.isCreateOrganisation))},directives:[f.d,v.db,f.c,n.p,Rt.r,Rt.j,Rt.d,Rt.q,Rt.h,Rt.l,kt.a,Zt.o,Et.b,di.a],styles:[".card-body[_ngcontent-%COMP%]{flex:1 1 auto;min-height:1px;padding:1.25rem}.required[_ngcontent-%COMP%]{color:red}label[_ngcontent-%COMP%]{font-weight:700}.mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.model-resize-outviwe[_ngcontent-%COMP%]{margin-top:70px;max-width:650px}.model-resize[_ngcontent-%COMP%]{height:450px;width:650px;margin-left:-110px}.mrl5[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}  .mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:hidden;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}"]}),Di),Pi=["content"];function Yi(t,e){1&t&&(g.Zb(0,"th",36),g.Rc(1," ID "),g.Yb())}function Ri(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.index;g.Eb(1),g.Tc(" ",a+1," ")}}function ki(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Name "),g.Yb())}function Zi(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",39),g.Zb(1,"a",40),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().editOrganisation(t)})),g.Rc(2),g.Yb(),g.Yb()}if(2&t){var n=e.$implicit;g.Eb(2),g.Tc(" ",n.org_name,"")}}function Ei(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Logo Image "),g.Yb())}function xi(t,e){if(1&t&&(g.Zb(0,"td",37),g.Ub(1,"img",41),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.wc("src",a.logo_image,g.Kc)}}function wi(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Type "),g.Yb())}function Mi(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.org_type," ")}}function Si(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Bus Visibility"),g.Yb())}function Oi(t,e){if(1&t&&(g.Zb(0,"td",39),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.bus_visibility," ")}}function Ii(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Track History Visibility "),g.Yb())}function Ni(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",a.track_history_visibility," ")}}function Ai(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Added Date & Time"),g.Yb())}function Fi(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.qc(2,"date"),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Tc(" ",g.sc(2,1,a.added_date_time,"dd MMM yyyy hh:mm:ss a")," ")}}function Ui(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Updated Date & Time "),g.Yb())}function Bi(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.qc(2,"date"),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(g.sc(2,1,a.updated_date_time,"dd MMM yyyy hh:mm:ss a"))}}function Li(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Status "),g.Yb())}function zi(t,e){if(1&t&&(g.Zb(0,"td",37),g.Rc(1),g.Yb()),2&t){var a=e.$implicit;g.Eb(1),g.Sc(a.status)}}function Wi(t,e){1&t&&(g.Zb(0,"th",38),g.Rc(1," Edit "),g.Yb())}function Vi(t,e){if(1&t){var a=g.ac();g.Zb(0,"td",37),g.Zb(1,"a"),g.Zb(2,"i",42),g.lc("click",(function(){g.Ic(a);var t=e.$implicit;return g.pc().editOrganisation(t)})),g.Yb(),g.Yb(),g.Yb()}}function $i(t,e){1&t&&g.Ub(0,"tr",43)}function Xi(t,e){1&t&&g.Ub(0,"tr",44)}function Hi(t,e){1&t&&(g.Zb(0,"div",45),g.Zb(1,"p",46),g.Rc(2,"Data Not Found"),g.Yb(),g.Yb())}var Gi,qi,ji=function(){return{icon:"refresh-outline",pack:"eva"}},Ji=[{path:"",component:Pt,children:[{path:"organisations",component:(Gi=function(){function t(e,a,n){_classCallCheck(this,t),this.headerService=e,this.uTrackService=a,this.dialog=n,this.ELEMENT_DATA=[],this.displayedColumns=["id","name","logo_image","type","bus_visibility","track_history_visibility","added_date_time","updated_date_time","status","edit"],this.dataSource=new c.k(this.ELEMENT_DATA),this.TableDataNotshow=!1,this.filterValue=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.uTrackService.isUserValid(),this.headerService.updateHeaderTitle("Organisations"),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.bus_organisation_list()}},{key:"bus_organisation_list",value:function(){var t=this,e=new FormData;e.append("user_id",localStorage.getItem("USER_ID")),this.uTrackService.bus_organisation_list(e).subscribe((function(e){e.status?(t.ELEMENT_DATA=[],null!=e.data&&null!=e.data&&e.data.length>0?(t.ELEMENT_DATA=e.data,t.ELEMENT_DATA.forEach((function(t){t.logo_image=null==t.logo_image||""===t.logo_image||""===t.logo_image?"assets/Default_Document.png":t.logo_image})),t.TableDataNotshow=!1,t.dataSource.data=t.ELEMENT_DATA):t.TableDataNotshow=!0):t.TableDataNotshow=!0}))}},{key:"applyFilter",value:function(t){"Enter"==t.key&&(this.filterValue=t.target.value,this.filterValue=this.filterValue.trim(),this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA)}},{key:"refresh",value:function(){this.bus_organisation_list()}},{key:"search",value:function(){this.filterValue=this.filterValue.trim(),this.filterValue=document.getElementById("search_element").value,this.dataSource.filter=this.filterValue,this.dataSource.data=this.ELEMENT_DATA}},{key:"createOrganisation",value:function(){var t=this;this.dialog.open(Ti,{width:"50%"}).afterClosed().subscribe((function(e){t.bus_organisation_list()}))}},{key:"editOrganisation",value:function(t){var e=this,a=JSON.stringify(t);this.dialog.open(Ti,{width:"50%",data:{bus_organisation_id:a}}).afterClosed().subscribe((function(t){e.bus_organisation_list()}))}},{key:"downloadPDF",value:function(){var t,e="Report generated on "+b.a.getDisplayTodayDateTime(),a="UTrack Organisation Report\n".concat(e),n=[],i=1,o=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(o.s();!(t=o.n()).done;){var r=t.value,c=[];c.push(i.toString()),c.push(r.org_name),c.push(r.org_type),c.push(r.bus_visibility),c.push(r.track_history_visibility),c.push(b.a.getDisplayDateTime(r.added_date_time)),c.push(b.a.getDisplayDateTime(r.updated_date_time)),c.push(r.status),n.push(c),i++}}catch(l){o.e(l)}finally{o.f()}p.a.downloadPdf(a,["ID","Name","Type","Bus Visibility","Track History Visibility","Added Date & time","Updated Date & Time","Status"],n,"OraganisationList")}},{key:"Exportexcle",value:function(){var t=new s.Workbook,e=t.addWorksheet("Utrack"),a=t.addImage({base64:m.a.uTrackLogoWithBG,extension:"png"}),n=t.addImage({base64:m.a.ramkiLogo,extension:"png"});e.mergeCells("A1:B3"),e.addImage(a,"A1:B3"),e.mergeCells("G1:G3"),e.addImage(n,"G1:G3"),e.mergeCells("C1","F2");var i=e.getCell("C1");i.value="UTrack Organisation Report",i.font={name:"Calibri",size:18,underline:"single",bold:!0,color:{argb:"0085A3"}},i.alignment={vertical:"middle",horizontal:"center"},e.mergeCells("C3","F3");var o=e.getCell("C3");o.value="Report generated on "+b.a.getDisplayTodayDateTime(),o.font={name:"Calibri",size:14,underline:"single",bold:!0,color:{argb:"0085A3"}},o.alignment={vertical:"middle",horizontal:"center"},e.addRow([]),e.addRow(["ID","Name","Type","Bus Visibility","Track History Visibility","Added Date & time","Updated Date & Time","Status"]).eachCell((function(t,e){t.fill={type:"pattern",pattern:"solid",fgColor:{argb:"4167B8"},bgColor:{argb:""}},t.font={bold:!0,color:{argb:"FFFFFF"},size:14},t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}));var r,c=1,u=_createForOfIteratorHelper(this.ELEMENT_DATA);try{for(u.s();!(r=u.n()).done;){var d=r.value,p=[];p.push(c.toString()),p.push(d.org_name),p.push(d.org_type),p.push(d.bus_visibility),p.push(d.track_history_visibility),p.push(b.a.getDisplayDateTime(d.added_date_time)),p.push(b.a.getDisplayDateTime(d.updated_date_time)),p.push(d.status),e.addRow(p),c++}}catch(g){u.e(g)}finally{u.f()}e.getColumn(1).width=5,e.getColumn(2).width=30,e.getColumn(3).width=12,e.getColumn(4).width=20,e.getColumn(5).width=35,e.getColumn(6).width=30,e.getColumn(7).width=30,e.getColumn(8).width=12,e.addRow([]),t.xlsx.writeBuffer().then((function(t){var e=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});l.saveAs(e,"OraganisationList.xlsx")}))}}]),t}(),Gi.\u0275fac=function(t){return new(t||Gi)(g.Tb(u.a),g.Tb(d.a),g.Tb(f.b))},Gi.\u0275cmp=g.Nb({type:Gi,selectors:[["ngx-organisations"]],viewQuery:function(t,e){var a;1&t&&(g.Nc(o.a,!0),g.Nc(r.a,!0),g.Yc(Pi,!0)),2&t&&(g.Dc(a=g.mc())&&(e.paginator=a.first),g.Dc(a=g.mc())&&(e.sort=a.first),g.Dc(a=g.mc())&&(e.content=a.first))},decls:57,vars:7,consts:[[1,"row","clearfix"],[1,"col-md-8","text-left"],["type","search","matInput","","id","search_element","placeholder","Search Organisation",1,"form-control","search-field","pull-left",3,"keyup"],[1,"btn","btn-primary","pull-left","ml-20","mr15","btn-sm",3,"click"],[1,"fa","fa-search"],["mat-button","",1,"btn","btn-danger","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-excel"],["mat-button","",1,"btn","btn-primary","pull-left","mr15","btn-sm",3,"click"],[1,"fa","fa-file-pdf"],["nbTooltip","Refresh","nbTooltipStatus","success",1,"btn","btn-success","pull-left","mr1","btn-sm",3,"nbTooltipIcon","click"],[1,"fa","fa-sync"],[1,"col-md-4","ml-auto","text-right"],[1,"form-group"],[1,"btn","btn-warning","btn-sm",3,"click"],["id","content",1,"example-container","mat-elevation-z8"],["content",""],[1,"table-responsive",2,"height","500px","overflow","auto !important"],["mat-table","","matSort","",1,"table-bordered","table",3,"dataSource"],["matColumnDef","id"],["class","bg-primary !important ml15","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["class","bg-primary !important","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","cellSpace","mat-cell","",4,"matCellDef"],["matColumnDef","logo_image"],["matColumnDef","type"],["mat-cell","","class","cellSpace",4,"matCellDef"],["matColumnDef","bus_visibility"],["matColumnDef","track_history_visibility"],["matColumnDef","added_date_time"],["matColumnDef","updated_date_time"],["matColumnDef","status"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","col-md-12","style","margin-top: 180px;",4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important","ml15"],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"bg-primary","!important"],["mat-cell","",1,"cellSpace"],[2,"cursor","pointer","text-decoration","underline","color","blue",3,"click"],[1,"img-circle",3,"src"],[1,"fa","fa-edit","text-blue",2,"cursor","pointer","color","blue",3,"click"],["mat-header-row",""],["mat-row",""],[1,"col-md-12",2,"margin-top","180px"],[1,"datanotfound"]],template:function(t,e){1&t&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Zb(2,"label"),g.Zb(3,"input",2),g.lc("keyup",(function(t){return e.applyFilter(t)})),g.Yb(),g.Yb(),g.Zb(4,"button",3),g.lc("click",(function(){return e.search()})),g.Ub(5,"i",4),g.Yb(),g.Zb(6,"button",5),g.lc("click",(function(){return e.Exportexcle()})),g.Ub(7,"i",6),g.Rc(8," \xa0 Export to Excel "),g.Yb(),g.Zb(9,"button",7),g.lc("click",(function(){return e.downloadPDF()})),g.Ub(10,"i",8),g.Rc(11," \xa0 Export to PDF "),g.Yb(),g.Zb(12,"button",9),g.lc("click",(function(){return e.refresh()})),g.Ub(13,"i",10),g.Yb(),g.Yb(),g.Zb(14,"div",11),g.Zb(15,"div",12),g.Zb(16,"button",13),g.lc("click",(function(){return e.createOrganisation()})),g.Zb(17,"b"),g.Rc(18,"+ Create Organisation"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(19,"div"),g.Zb(20,"div",14,15),g.Zb(22,"div",16),g.Zb(23,"table",17),g.Xb(24,18),g.Pc(25,Yi,2,0,"th",19),g.Pc(26,Ri,2,1,"td",20),g.Wb(),g.Xb(27,21),g.Pc(28,ki,2,0,"th",22),g.Pc(29,Zi,3,1,"td",23),g.Wb(),g.Xb(30,24),g.Pc(31,Ei,2,0,"th",22),g.Pc(32,xi,2,1,"td",20),g.Wb(),g.Xb(33,25),g.Pc(34,wi,2,0,"th",22),g.Pc(35,Mi,2,1,"td",26),g.Wb(),g.Xb(36,27),g.Pc(37,Si,2,0,"th",22),g.Pc(38,Oi,2,1,"td",26),g.Wb(),g.Xb(39,28),g.Pc(40,Ii,2,0,"th",22),g.Pc(41,Ni,2,1,"td",20),g.Wb(),g.Xb(42,29),g.Pc(43,Ai,2,0,"th",22),g.Pc(44,Fi,3,4,"td",20),g.Wb(),g.Xb(45,30),g.Pc(46,Ui,2,0,"th",22),g.Pc(47,Bi,3,4,"td",20),g.Wb(),g.Xb(48,31),g.Pc(49,Li,2,0,"th",22),g.Pc(50,zi,2,1,"td",20),g.Wb(),g.Xb(51,32),g.Pc(52,Wi,2,0,"th",22),g.Pc(53,Vi,3,0,"td",20),g.Wb(),g.Pc(54,$i,1,0,"tr",33),g.Pc(55,Xi,1,0,"tr",34),g.Yb(),g.Pc(56,Hi,3,0,"div",35),g.Yb(),g.Yb(),g.Yb()),2&t&&(g.Eb(12),g.vc("nbTooltipIcon",g.zc(6,ji)),g.Eb(11),g.vc("dataSource",e.dataSource),g.Eb(31),g.vc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),g.Eb(1),g.vc("matRowDefColumns",e.displayedColumns),g.Eb(1),g.vc("ngIf",e.TableDataNotshow))},directives:[h.b,_.a,v.db,c.j,r.a,c.c,c.e,c.b,c.g,c.i,n.p,c.d,r.b,c.a,c.f,c.h],pipes:[n.e],styles:[".mrleftright[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff!important;vertical-align:middle!important;padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px!important}.example-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{overflow-x:scroll!important}.mr15[_ngcontent-%COMP%]{margin-right:15px!important}.mr12[_ngcontent-%COMP%]{margin-left:-49px;padding:1px 1px 0}.mt50[_ngcontent-%COMP%]{margin-top:76px}.my-custom-scrollbar[_ngcontent-%COMP%]{overflow:auto}.table-wrapper-scroll-y[_ngcontent-%COMP%]{display:block}.mat-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}.mat-input-element[_ngcontent-%COMP%]{line-height:auto;padding:6px;height:auto;font-size:12px;border:1px solid #0779e4;background:#fff}.ml-20[_ngcontent-%COMP%]{margin-left:-20px!important}.btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.7;border-radius:.2rem}tr[_ngcontent-%COMP%]:hover{background-color:#b3f0ff}.img-circle[_ngcontent-%COMP%]{border-radius:50%!important;overflow:hidden;width:65px;height:65px;border:2px solid #1654c0;margin:0 auto 20px}.datanotfound[_ngcontent-%COMP%]{font-size:25px;text-align:center;margin-top:180px;margin-bottom:180px;font-weight:700}"]}),Gi)},{path:"branches",component:G},{path:"employees",component:ui},{path:"geofence",component:Tt},{path:"bus_routes",component:ma},{path:"bus_trips",component:bn},{path:"passengers",component:Re},{path:"bus_timings",component:Ua},{path:"bus_notifications",component:Yt},{path:"buses",component:Fn}]}],Qi=((qi=function t(){_classCallCheck(this,t)}).\u0275mod=g.Rb({type:qi}),qi.\u0275inj=g.Qb({factory:function(t){return new(t||qi)},imports:[[i.g.forChild(Ji)],i.g]}),qi),Ki=a("u47x"),to=a("UXJo"),eo=a("5+WD"),ao=a("+rOU"),no=a("vxfF"),io=a("B/XX"),oo=a("f6nW"),ro=a("FvrZ"),co=a("tk/3"),lo=a("/1cH"),so=a("TU8p"),bo=a("2ChS"),uo=a("jaxi"),mo=a("Wp6s"),po=a("bSwM"),go=a("A5z7"),fo=a("iadO"),ho=a("f0Cb"),_o=a("7EHt"),vo=a("zkoq"),Co=a("NFeN"),yo=a("MutI"),Do=a("STbY"),To=a("bv9b"),Po=a("Xa2L"),Yo=a("QibW"),Ro=a("XhcP"),ko=a("1jcm"),Zo=a("5RNC"),Eo=a("dNgK"),xo=a("xHqg"),wo=a("wZkO"),Mo=a("/t3+"),So=a("Qu3c"),Oo=a("8yBR"),Io=a("sYmb"),No=a("KUt4"),Ao=a("T7NJ"),Fo=a("9OaD"),Uo=a("LPYB"),Bo=a("Kb4U"),Lo=a("DKVz"),zo=a("WJ5W"),Wo=a("vTDv"),Vo=a("/2RN"),$o=a("ivxX"),Xo=a("dgmN"),Ho=a("pxUr"),Go=a("IZFd");a.d(e,"BusManagementModule",(function(){return jo}));var qo,jo=((qo=function t(){_classCallCheck(this,t)}).\u0275mod=g.Rb({type:qo}),qo.\u0275inj=g.Qb({factory:function(t){return new(t||qo)},imports:[[n.c,Qi,Rt.k,Rt.x,Wo.a,v.N,Vo.a,$o.MiscellaneousModule,Rt.k,Rt.x,Ki.a,to.a,io.e,oo.q,ro.d,eo.a,lo.a,so.a,bo.a,_.b,uo.c,mo.f,po.b,go.a,xo.a,fo.e,f.f,ho.a,_o.b,vo.a,Co.b,h.c,Et.e,yo.a,Do.a,Zt.m,o.b,To.a,Po.a,Yo.c,Zt.u,kt.b,Ro.a,Zo.a,ko.b,Eo.b,r.c,c.l,wo.d,Mo.a,So.b,Oo.a,ao.h,no.d,No.b,co.c,Ao.a.forRoot(),v.eb,v.g,Uo.a,v.B,da.e,da.c,Lo.a,v.r,zo.b,Io.b.forChild({loader:{provide:Io.a,useFactory:Xo.HttpLoaderFactory,deps:[co.b]}}),Fo.a,Bo.b,di.b,Ho.b.forRoot({apiKey:"AIzaSyDCiXdCAmivYYCHOl3yDmePcYYfcSxODR0",libraries:["places"]}),Ho.b.forRoot({apiKey:"AIzaSyDCiXdCAmivYYCHOl3yDmePcYYfcSxODR0"}),Go.a]]}),qo)}}]);